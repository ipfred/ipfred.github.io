<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>Fred的知识库</title>
    <link>https://ipfred.github.io/</link>
    <description>Fred&#39;s Note：探索、分享、记录自己在工作生活学习到一些东西。</description>
    <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>330446875@qq.com (Fred)</managingEditor>
      <webMaster>330446875@qq.com (Fred)</webMaster><copyright>本站内容采用 CC BY-NC-SA 4.0 国际许可协议。</copyright><lastBuildDate>Sat, 10 May 2025 14:37:46 &#43;0800</lastBuildDate>
      <atom:link href="https://ipfred.github.io/index.xml" rel="self" type="application/rss+xml" />
    <item>
  <title>go开发环境配置</title>
  <link>https://ipfred.github.io/lang/go/20250510143746/</link>
  <pubDate>Sat, 10 May 2025 14:37:46 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/lang/go/20250510143746/</guid>
  <description><![CDATA[<blockquote>
<p>配置了这么多次go开发环境，每次都踩坑，记录下使用windows系统开发go语言的环境配置，了解go语言的开发环境特点</p>
</blockquote>
<p>开发环境：</p>
<ul>
<li>VSCode</li>
<li>go 1.24 多版本管理</li>
</ul>
<h2 id="下载安装" class="heading-element">
  <a href="#%e4%b8%8b%e8%bd%bd%e5%ae%89%e8%a3%85" class="heading-mark"></a>下载安装</h2><ul>
<li>
<p>官方下载安装</p>
</li>
<li>
<p>建议安装到 默认路径下面 <code>C:\Program Files\Go</code></p>
</li>
<li>
<p>安装完成后，会发现多了些东西</p>
</li>
<li>
<p>GOPATH : <code>%USERPROFILE%\go</code> 在用户根目录下</p>
</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142946.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142946.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142946.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142946.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142946.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142946.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>bin 下面是go的一些插件 用vscode开发的时候 会依赖这些插件
pkg 下面是各个项目下载的第三方包，都会存到这个路径下</p>
<ul>
<li>PATH <code>%USERPROFILE%\go\bin</code></li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510143203.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510143203.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510143203.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510143203.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510143203.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510143203.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<ul>
<li>系统环境变量 PATH <code>C:\Program Files\Go\bin</code>
这个是下载的go程序的安装路径</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142741.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142741.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142741.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142741.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142741.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510142741.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h2 id="源配置" class="heading-element">
  <a href="#%e6%ba%90%e9%85%8d%e7%bd%ae" class="heading-mark"></a>源配置</h2><p>go第三方包的源在国外，下载速度会比较慢，更换为国内源
推荐使用 <strong>go env</strong> 命令</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 启用 Go Modules 模式</span>
</span></span><span class="line"><span class="cl">go env -w <span class="nv">GO111MODULE</span><span class="o">=</span>on
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">go env -w <span class="nv">GOPROXY</span><span class="o">=</span>https://goproxy.cn,direct</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>扩展 go env 命令 配置写到哪个地方了</p>
</blockquote>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">$HOME</span>/.config/go/env   <span class="c1"># Linux/macOS</span>
</span></span><span class="line"><span class="cl">%USERPROFILE%<span class="se">\A</span>ppData<span class="se">\R</span>oaming<span class="se">\g</span>o<span class="se">\e</span>nv  <span class="c1"># Windows</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510150238.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510150238.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510150238.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510150238.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510150238.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510150238.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h2 id="使用vscode开发-go配置" class="heading-element">
  <a href="#%e4%bd%bf%e7%94%a8vscode%e5%bc%80%e5%8f%91-go%e9%85%8d%e7%bd%ae" class="heading-mark"></a>使用vscode开发 go配置</h2><ol>
<li>
<p>插件市场 搜索 安装 go插件
<img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144849.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144849.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144849.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144849.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144849.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144849.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
</li>
<li>
<p>安装 工具 <code>ctrl + shift + p</code> 搜索 go install 安装 工具 gopls是必须的</p>
</li>
</ol>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145237.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145237.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145237.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145237.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145237.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145237.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/>
<img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145322.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145322.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145322.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145322.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145322.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145322.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>安装完后插件 也放到了 GOPATH下面</p>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145441.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145441.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145441.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145441.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145441.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510145441.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<blockquote>
<p>扩展 介绍下这些插件的作用</p>
</blockquote>
<table>
<thead>
<tr>
<th>工具名称</th>
<th>版本信息</th>
<th>作用描述</th>
<th>主要用途/使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gopls</code></td>
<td><code>latest</code></td>
<td>Go 语言服务器（Language Server Protocol）</td>
<td>提供代码补全、跳转定义、重构等编辑器功能，提升编码效率</td>
</tr>
<tr>
<td><code>gotests</code></td>
<td><code>v1.6.0</code></td>
<td>自动生成单元测试代码</td>
<td>快速生成函数或方法的测试框架，提高测试覆盖率</td>
</tr>
<tr>
<td><code>gomodifytags</code></td>
<td><code>v1.7.0</code></td>
<td>修改结构体字段标签（如 JSON、XML、SQL 等）</td>
<td>自动添加、删除或修改结构体中的标签，方便序列化处理</td>
</tr>
<tr>
<td><code>impl</code></td>
<td><code>v1.4.0</code></td>
<td>为接口生成实现模板</td>
<td>快速生成接口的方法骨架，减少手动编写工作量</td>
</tr>
<tr>
<td><code>goplay</code></td>
<td><code>v1.0.0</code></td>
<td>类似 Go Playground 的本地代码运行环境</td>
<td>快速运行小段代码片段，验证逻辑无需创建完整项目</td>
</tr>
<tr>
<td><code>dlv</code></td>
<td><code>latest</code></td>
<td>Go 调试工具（Delve）</td>
<td>设置断点、查看变量、调试程序行为，适合复杂问题排查</td>
</tr>
<tr>
<td><code>staticcheck</code></td>
<td><code>latest</code></td>
<td>静态代码分析工具（Linter）</td>
<td>检查潜在错误、优化代码质量，遵循最佳实践</td>
</tr>
</tbody>
</table>
<h2 id="多版本管理" class="heading-element">
  <a href="#%e5%a4%9a%e7%89%88%e6%9c%ac%e7%ae%a1%e7%90%86" class="heading-mark"></a>多版本管理</h2><p>经常会存在一些情况，不同的项目依赖不同的go版本，官方有自己的go 多版本管理方式，挺好用的</p>
<p><a href="https://go.dev/doc/manage-install"target="_blank" rel="external nofollow noopener noreferrer">官方go多版本管理<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 先安装一个 go1.10.7 的命令</span>
</span></span><span class="line"><span class="cl">go install golang.org/dl/go1.10.7@latest
</span></span><span class="line"><span class="cl"><span class="c1"># 再使用这个命令下载 这个版本的go</span>
</span></span><span class="line"><span class="cl">go1.10.7 download</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>第一步 下载 go1.10.7 命令 放在了 GOPATH bin下面</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144321.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144321.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144321.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144321.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144321.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144321.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<ul>
<li>第二步 使用 go1.10.7 命令下载这个版本的go 存放的位置  当前用户根目录 的 <code>C:\Users\admin\sdk</code> 路径下</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144421.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144421.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144421.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144421.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144421.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144421.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>多版本的go 放到哪个地方了呢？</p>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144539.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144539.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144539.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144539.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144539.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510144539.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>后续用VSCode开发的时候，就可以很好的切换到不同的go版本了</p>
<p>也可以通过 <strong>go1.10.7 env GOROOT</strong> 命令查看安装到哪个地方了</p>
<h3 id="vscode-中切换不同版本的go" class="heading-element">
  <a href="#vscode-%e4%b8%ad%e5%88%87%e6%8d%a2%e4%b8%8d%e5%90%8c%e7%89%88%e6%9c%ac%e7%9a%84go" class="heading-mark"></a>vscode 中切换不同版本的go</h3><p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153554.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153554.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153554.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153554.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153554.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153554.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>选择切换成不同的go版本</p>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153646.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153646.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153646.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153646.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153646.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153646.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>在左侧项目文件夹 也有 go的一些快捷操作</p>
<p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153742.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153742.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153742.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153742.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153742.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20250510153742.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h2 id="go常用的命令" class="heading-element">
  <a href="#go%e5%b8%b8%e7%94%a8%e7%9a%84%e5%91%bd%e4%bb%a4" class="heading-mark"></a>go常用的命令</h2><p>别死记了！ 用的不熟练的时候， <strong>go help</strong>看下</p>
<hr>
<p>相信了解这些细节之后，安装 配置你都能很清楚了</p>
]]></description>
</item>
<item>
  <title>多平台GitHub配置代理</title>
  <link>https://ipfred.github.io/lang/git/20250425152252/</link>
  <pubDate>Fri, 25 Apr 2025 15:22:44 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/lang/git/20250425152252/</guid>
  <description><![CDATA[<p><strong>本地拉取github老是失败，可通过全局配置代理，或只给github.com配置代理</strong></p>
<blockquote>
<p>前言：本地拉取github老是失败，可通过全局配置代理，或只给github.com配置代理</p>
</blockquote>
<h1 id="git-配置代理" class="heading-element">
  <a href="#git-%e9%85%8d%e7%bd%ae%e4%bb%a3%e7%90%86" class="heading-mark"></a>git 配置代理</h1><h2 id="windows-设置代理" class="heading-element">
  <a href="#windows-%e8%ae%be%e7%bd%ae%e4%bb%a3%e7%90%86" class="heading-mark"></a>windows 设置代理</h2><h3 id="http--https协议" class="heading-element">
  <a href="#http--https%e5%8d%8f%e8%ae%ae" class="heading-mark"></a>http || https协议</h3><div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">//设置全局代理
</span></span><span class="line"><span class="cl">git config --global https.proxy http://127.0.0.1:7897
</span></span><span class="line"><span class="cl">git config --global https.proxy https://127.0.0.1:7897
</span></span><span class="line"><span class="cl">// socks
</span></span><span class="line"><span class="cl">git config --global http.proxy socks5://127.0.0.1:7897
</span></span><span class="line"><span class="cl">git config --global https.proxy socks5://127.0.0.1:7897
</span></span><span class="line"><span class="cl">//只对github.com使用代理，其他仓库不走代理
</span></span><span class="line"><span class="cl">git config --global http.https://github.com.proxy socks5://127.0.0.1:7897
</span></span><span class="line"><span class="cl">git config --global https.https://github.com.proxy socks5://127.0.0.1:7897
</span></span><span class="line"><span class="cl">//取消github代理
</span></span><span class="line"><span class="cl">git config --global --unset http.https://github.com.proxy
</span></span><span class="line"><span class="cl">git config --global --unset https.https://github.com.proxy
</span></span><span class="line"><span class="cl">//取消全局代理
</span></span><span class="line"><span class="cl">git config --global --unset http.proxy
</span></span><span class="line"><span class="cl">git config --global --unset https.proxy</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ssh协议" class="heading-element">
  <a href="#ssh%e5%8d%8f%e8%ae%ae" class="heading-mark"></a>SSH协议</h3><div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">//对于使用git@协议的，可以配置socks5代理
</span></span><span class="line"><span class="cl">//在~/.ssh/config 文件后面添加几行，没有可以新建一个
</span></span><span class="line"><span class="cl">//socks5
</span></span><span class="line"><span class="cl">Host github.com
</span></span><span class="line"><span class="cl">User git
</span></span><span class="line"><span class="cl">ProxyCommand connect -S 127.0.0.1:7897 %h %p
</span></span><span class="line"><span class="cl">//http <span class="o">||</span> https
</span></span><span class="line"><span class="cl">Host github.com
</span></span><span class="line"><span class="cl">User git
</span></span><span class="line"><span class="cl">ProxyCommand connect -H 127.0.0.1:7897 %h %p</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="wsl2设置代理" class="heading-element">
  <a href="#wsl2%e8%ae%be%e7%bd%ae%e4%bb%a3%e7%90%86" class="heading-mark"></a>WSL2设置代理</h2><p>在 Ubuntu 子系统中，通过 <strong>cat /etc/resolv.conf</strong> 查看 DNS 服务器 IP</p>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /etc/resolv.conf
</span></span><span class="line"><span class="cl"><span class="c1"># This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># [network]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># generateResolvConf = false</span>
</span></span><span class="line"><span class="cl">nameserver 172.23.64.1</span></span></code></pre></td></tr></table>
</div>
</div><p>其实上面地址就是windows下面这个ip地址</p>
<p><strong>win11-&gt;设置-&gt;网络和Internet-&gt;高级网络设置-&gt;硬件和连接属性</strong></p>
<p>名称：vEthernet (WSL)</p>
<p>ipv4地址：172.23.64.1/20</p>
<p>我们要为WSL配置ssh代理和http代理</p>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">touch ~/.ssh/config
</span></span><span class="line"><span class="cl">vim ~/.ssh/config
</span></span><span class="line"><span class="cl">Host github.com
</span></span><span class="line"><span class="cl">    HostName github.com
</span></span><span class="line"><span class="cl">    User git
</span></span><span class="line"><span class="cl">    <span class="c1"># 走 socks5 代理</span>
</span></span><span class="line"><span class="cl">    ProxyCommand nc -v -x 172.28.32.1:7897 %h %p</span></span></code></pre></td></tr></table>
</div>
</div><p>使用下面命令检查ssh代理配置是否成功</p>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh -T github.com
</span></span><span class="line"><span class="cl">Connection to github.com <span class="m">22</span> port <span class="o">[</span>tcp/ssh<span class="o">]</span> succeeded!
</span></span><span class="line"><span class="cl">Hi wq-zhijun! You<span class="err">&#39;</span>ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre></td></tr></table>
</div>
</div><p>可以将上面ip地址配置代理写入到.bashrc文件中，这样就可以自己用户开机永久生效，</p>
<p><strong>另外apt要单独在/etc/apt/apt.conf设置代理</strong></p>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">u_host</span><span class="o">=</span><span class="sb">`</span>cat /etc/resolv.conf<span class="p">|</span>grep nameserver<span class="p">|</span>awk <span class="s1">&#39;{print $2}&#39;</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl">sed -i <span class="s2">&#34;/.*ProxyCommand*/c\     ProxyCommand nc -v -x </span><span class="nv">$u_host</span><span class="s2">:7897 %h %p&#34;</span> ~/.ssh/config
</span></span><span class="line"><span class="cl">proxy <span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">export</span> <span class="nv">ALL_PROXY</span><span class="o">=</span><span class="s2">&#34;http://</span><span class="nv">$u_host</span><span class="s2">:7897&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">export</span> <span class="nv">all_proxy</span><span class="o">=</span><span class="s2">&#34;http://</span><span class="nv">$u_host</span><span class="s2">:7897&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">export</span> <span class="o">{</span>http,https,ftp<span class="o">}</span><span class="nv">_proxy</span><span class="o">=</span><span class="nv">$ALL_PROXY</span>
</span></span><span class="line"><span class="cl">    <span class="nb">export</span> <span class="o">{</span>HTTP,HTTPS,FTP<span class="o">}</span><span class="nv">_PROXY</span><span class="o">=</span><span class="nv">$ALL_PROXY</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;Acquire::http::Proxy \&#34;http://</span><span class="nv">$u_host</span><span class="s2">:7897\&#34;;&#34;</span> <span class="p">|</span> sudo tee -a /etc/apt/apt.conf &gt; /dev/null
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;Acquire::https::Proxy \&#34;http://</span><span class="nv">$u_host</span><span class="s2">:7897\&#34;;&#34;</span> <span class="p">|</span> sudo tee -a /etc/apt/apt.conf &gt; /dev/null
</span></span><span class="line"><span class="cl">    curl ip.gs
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">proxy <span class="c1"># default call</span>
</span></span><span class="line"><span class="cl">proxy noproxy <span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">unset</span> ALL_PROXY
</span></span><span class="line"><span class="cl">    <span class="nb">unset</span> all_proxy
</span></span><span class="line"><span class="cl">    sudo sed -i -e <span class="s1">&#39;/Acquire::http::Proxy/d&#39;</span> /etc/apt/apt.conf
</span></span><span class="line"><span class="cl">    sudo sed -i -e <span class="s1">&#39;/Acquire::https::Proxy/d&#39;</span> /etc/apt/apt.conf
</span></span><span class="line"><span class="cl">    curl ip.gs
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>7897端口</strong> 是clash for windows端口，另外将 <strong>Allow LAN</strong> 打开。</p>
<p>还需要将防火墙打开</p>
<p>win+r 输入 control到如下目录</p>
<p><strong>控制面板\系统和安全\Windows Defender 防火墙</strong></p>
<p>放行clash*</p>
<h2 id="git-push失败或者卡住不动问题" class="heading-element">
  <a href="#git-push%e5%a4%b1%e8%b4%a5%e6%88%96%e8%80%85%e5%8d%a1%e4%bd%8f%e4%b8%8d%e5%8a%a8%e9%97%ae%e9%a2%98" class="heading-mark"></a>git push失败或者卡住不动问题</h2><p>原因是有的节点22端口被服务端封锁了，要么改服务端端口要么改自己本地更换443端口（~/.ssh/config)</p>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 可以先使用如下测试下</span>
</span></span><span class="line"><span class="cl">ssh -T -p <span class="m">443</span> git@ssh.github.com
</span></span><span class="line"><span class="cl"><span class="c1"># Hi USERNAME! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 更换端口后再测试下</span>
</span></span><span class="line"><span class="cl">ssh -T git@github.com
</span></span><span class="line"><span class="cl"><span class="c1"># Hi USERNAME! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># .ssh目录的config文件添加如下内容</span>
</span></span><span class="line"><span class="cl">vim ~/.ssh/config
</span></span><span class="line"><span class="cl">Host github.com
</span></span><span class="line"><span class="cl">    HostName github.com
</span></span><span class="line"><span class="cl">    User git
</span></span><span class="line"><span class="cl">    <span class="c1"># set socks5 proxy</span>
</span></span><span class="line"><span class="cl">    ProxyCommand nc -v -x 172.23.64.1:7897 %h %p</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="修改配置文件的方式" class="heading-element">
  <a href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e7%9a%84%e6%96%b9%e5%bc%8f" class="heading-mark"></a>修改配置文件的方式</h2><ul>
<li>windows系统的配置 文件在 <code>C:\Users\admin\.gitconfig</code>
配置文件如下</li>
</ul>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[http &#34;https://github.com&#34;]</span>
</span></span><span class="line"><span class="cl">	<span class="na">proxy</span> <span class="o">=</span> <span class="s">http://127.0.0.1:7897</span>
</span></span><span class="line"><span class="cl"><span class="k">[https &#34;https://github.com&#34;]</span>
</span></span><span class="line"><span class="cl">	<span class="na">proxy</span> <span class="o">=</span> <span class="s">https://127.0.0.1:7897</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>sqoop使用文档</title>
  <link>https://ipfred.github.io/bigdata/hadoop/20240606150541/</link>
  <pubDate>Thu, 06 Jun 2024 15:05:41 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/bigdata/hadoop/20240606150541/</guid>
  <description><![CDATA[<h2 id="sqoop介绍" class="heading-element">
  <a href="#sqoop%e4%bb%8b%e7%bb%8d" class="heading-mark"></a>sqoop介绍</h2><blockquote>
<p>Sqoop 是一个设计用于在 Hadoop 和关系数据库或大型机之间传输数据的工具。您可以使用 Sqoop 将数据从关系数据库管理系统 (RDBMS)（例如 MySQL 或 Oracle）或大型机导入 Hadoop 分布式文件系统 (HDFS)，在 Hadoop MapReduce 中转换数据，然后将数据导出回 RDBMS 。</p>
</blockquote>
<p>Hadoop生态包括： HDFS，Hive，Hbase等
RDBMS体系包括：Mysql、Oracle、DB2等</p>
<p>sqoop是一些工具的集合, 使用的语法如下</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop tool-name <span class="o">[</span>tool-arguments<span class="o">]</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="命令工具" class="heading-element">
  <a href="#%e5%91%bd%e4%bb%a4%e5%b7%a5%e5%85%b7" class="heading-mark"></a>命令工具</h2><p>可用的命令工具如下
可以使用 &ndash;help 查看命令工具的使用方法
<code>sqoop import --help</code> <code>sqoop help import</code></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用描述</th>
<th>使用方法</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codegen</code></td>
<td>生成与数据库记录交互的代码</td>
<td><code>sqoop codegen --connect &lt;连接字符串&gt; --table &lt;表名&gt;</code></td>
</tr>
<tr>
<td><code>create-hive-table</code></td>
<td>将表定义导入到 Hive 中</td>
<td><code>sqoop create-hive-table --connect &lt;连接字符串&gt; --table &lt;表名&gt;</code></td>
</tr>
<tr>
<td><code>eval</code></td>
<td>执行 SQL 语句并显示结果</td>
<td><code>sqoop eval --connect &lt;连接字符串&gt; --query &lt;SQL 语句&gt;</code></td>
</tr>
<tr>
<td><strong><code>export</code></strong></td>
<td><strong>将 HDFS 目录导出到数据库表</strong></td>
<td><code>sqoop export --connect &lt;连接字符串&gt; --table &lt;表名&gt; --export-dir &lt;HDFS 目录&gt;</code></td>
</tr>
<tr>
<td><code>help</code></td>
<td>列出可用命令</td>
<td><code>sqoop help</code></td>
</tr>
<tr>
<td><strong><code>import</code></strong></td>
<td><strong>将数据库表导入到 HDFS</strong></td>
<td><code>sqoop import --connect &lt;连接字符串&gt; --table &lt;表名&gt;</code></td>
</tr>
<tr>
<td><code>import-all-tables</code></td>
<td>将数据库中的所有表导入到 HDFS</td>
<td><code>sqoop import-all-tables --connect &lt;连接字符串&gt;</code></td>
</tr>
<tr>
<td><code>import-mainframe</code></td>
<td>将主机服务器上的数据集导入到 HDFS</td>
<td><code>sqoop import-mainframe --connect &lt;连接字符串&gt; --dataset &lt;数据集&gt;</code></td>
</tr>
<tr>
<td><code>job</code></td>
<td>使用已保存的作业</td>
<td><code>sqoop job --create &lt;作业名&gt; --import --connect &lt;连接字符串&gt; --table &lt;表名&gt;</code></td>
</tr>
<tr>
<td><code>list-databases</code></td>
<td>列出服务器上的可用数据库</td>
<td><code>sqoop list-databases --connect &lt;连接字符串&gt;</code></td>
</tr>
<tr>
<td><code>list-tables</code></td>
<td>列出数据库中的可用表</td>
<td><code>sqoop list-tables --connect &lt;连接字符串&gt;</code></td>
</tr>
<tr>
<td><code>merge</code></td>
<td>合并增量导入的结果</td>
<td><code>sqoop merge --new-data &lt;新数据目录&gt; --onto &lt;旧数据目录&gt;</code></td>
</tr>
<tr>
<td><code>metastore</code></td>
<td>运行独立的 Sqoop 元数据存储服务</td>
<td><code>sqoop metastore</code></td>
</tr>
<tr>
<td><code>version</code></td>
<td>显示版本信息</td>
<td><code>sqoop version</code></td>
</tr>
</tbody>
</table>
<h2 id="import" class="heading-element">
  <a href="#import" class="heading-mark"></a>import</h2><blockquote>
<p>功能 将关系型数据表导入到HDFS中，可以设置存储格式为Avro 或者 SequenceFiles</p>
</blockquote>
<p><code>sqoop import --help</code> 查看该命令工具的用法</p>
<p>参数可以按功能来分组，包括：Common参数、Hive参数、Import control 参数、HBase 参数、HCatalog 参数、Accumulo 参数、</p>
<h3 id="common参数" class="heading-element">
  <a href="#common%e5%8f%82%e6%95%b0" class="heading-mark"></a>common参数</h3><table>
<thead>
<tr>
<th style="text-align:left">Argument</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--connect &lt;jdbc-uri&gt;</code></td>
<td style="text-align:left">Specify JDBC connect string</td>
</tr>
<tr>
<td style="text-align:left"><code>--connection-manager &lt;class-name&gt;</code></td>
<td style="text-align:left">Specify connection manager class to use</td>
</tr>
<tr>
<td style="text-align:left"><code>--driver &lt;class-name&gt;</code></td>
<td style="text-align:left">Manually specify JDBC driver class to use</td>
</tr>
<tr>
<td style="text-align:left"><code>--hadoop-mapred-home &lt;dir&gt;</code></td>
<td style="text-align:left">Override $HADOOP_MAPRED_HOME</td>
</tr>
<tr>
<td style="text-align:left"><code>--help</code></td>
<td style="text-align:left">Print usage instructions</td>
</tr>
<tr>
<td style="text-align:left"><code>--password-file</code></td>
<td style="text-align:left">Set path for a file containing the authentication password</td>
</tr>
<tr>
<td style="text-align:left"><code>-P</code></td>
<td style="text-align:left">Read password from console</td>
</tr>
<tr>
<td style="text-align:left"><code>--password &lt;password&gt;</code></td>
<td style="text-align:left">Set authentication password</td>
</tr>
<tr>
<td style="text-align:left"><code>--username &lt;username&gt;</code></td>
<td style="text-align:left">Set authentication username</td>
</tr>
<tr>
<td style="text-align:left"><code>--verbose</code></td>
<td style="text-align:left">Print more information while working</td>
</tr>
<tr>
<td style="text-align:left"><code>--connection-param-file &lt;filename&gt;</code></td>
<td style="text-align:left">Optional properties file that provides connection parameters</td>
</tr>
<tr>
<td style="text-align:left"><code>--relaxed-isolation</code></td>
<td style="text-align:left">Set connection transaction isolation to read uncommitted for the mappers.</td>
</tr>
</tbody>
</table>
<h3 id="验证参数" class="heading-element">
  <a href="#%e9%aa%8c%e8%af%81%e5%8f%82%e6%95%b0" class="heading-mark"></a>验证参数</h3><p>可以验证同步之后的表的数据量是否一致</p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--validate</code></td>
<td style="text-align:left">启用复制数据的验证，仅支持单表复制。</td>
</tr>
<tr>
<td style="text-align:left"><code>--validator &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的验证器类。</td>
</tr>
<tr>
<td style="text-align:left"><code>--validation-threshold &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的验证阈值类。</td>
</tr>
<tr>
<td style="text-align:left"><code>--validation-failurehandler &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的验证失败处理程序类。</td>
</tr>
</tbody>
</table>
<h3 id="import-control-参数" class="heading-element">
  <a href="#import-control-%e5%8f%82%e6%95%b0" class="heading-mark"></a>import control 参数</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--append</code></td>
<td style="text-align:left">将数据附加到 HDFS 中的现有数据集</td>
</tr>
<tr>
<td style="text-align:left"><code>--as-avrodatafile</code></td>
<td style="text-align:left">将数据导入 Avro 数据文件</td>
</tr>
<tr>
<td style="text-align:left"><code>--as-sequencefile</code></td>
<td style="text-align:left">将数据导入 SequenceFiles</td>
</tr>
<tr>
<td style="text-align:left"><code>--as-textfile</code></td>
<td style="text-align:left">以纯文本形式导入数据（默认）</td>
</tr>
<tr>
<td style="text-align:left"><code>--as-parquetfile</code></td>
<td style="text-align:left">将数据导入 Parquet 文件</td>
</tr>
<tr>
<td style="text-align:left"><code>--boundary-query &lt;statement&gt;</code></td>
<td style="text-align:left">用于创建分割的边界查询</td>
</tr>
<tr>
<td style="text-align:left"><code>--columns &lt;col,col,col…&gt;</code></td>
<td style="text-align:left">从表中导入的列</td>
</tr>
<tr>
<td style="text-align:left"><code>--delete-target-dir</code></td>
<td style="text-align:left">如果存在则删除导入目标目录</td>
</tr>
<tr>
<td style="text-align:left"><code>--direct</code></td>
<td style="text-align:left">如果数据库存在，则使用直接连接器</td>
</tr>
<tr>
<td style="text-align:left"><code>--fetch-size &lt;n&gt;</code></td>
<td style="text-align:left">一次从数据库读取的条目数。</td>
</tr>
<tr>
<td style="text-align:left"><code>--inline-lob-limit &lt;n&gt;</code></td>
<td style="text-align:left">设置内联 LOB 的最大大小</td>
</tr>
<tr>
<td style="text-align:left"><code>-m,--num-mappers &lt;n&gt;</code></td>
<td style="text-align:left">使用_n个_map任务并行导入</td>
</tr>
<tr>
<td style="text-align:left"><code>-e,--query &lt;statement&gt;</code></td>
<td style="text-align:left">导入的结果_<code>statement</code>_。</td>
</tr>
<tr>
<td style="text-align:left"><code>--split-by &lt;column-name&gt;</code></td>
<td style="text-align:left">用于分割工作单元的表格列。不能与 <code>--autoreset-to-one-mapper</code>选项一起使用。</td>
</tr>
<tr>
<td style="text-align:left"><code>--split-limit &lt;n&gt;</code></td>
<td style="text-align:left">每个分割大小的上限。这仅适用于整数和日期列。对于日期或时间戳字段，以秒为单位计算。</td>
</tr>
<tr>
<td style="text-align:left"><code>--autoreset-to-one-mapper</code></td>
<td style="text-align:left">如果表没有主键且未提供拆分列，则导入应使用一个映射器。不能与 <code>--split-by &lt;col&gt;</code>选项一起使用。</td>
</tr>
<tr>
<td style="text-align:left"><code>--table &lt;table-name&gt;</code></td>
<td style="text-align:left">表格阅读</td>
</tr>
<tr>
<td style="text-align:left"><code>--target-dir &lt;dir&gt;</code></td>
<td style="text-align:left">HDFS 目标目录</td>
</tr>
<tr>
<td style="text-align:left"><code>--temporary-rootdir &lt;dir&gt;</code></td>
<td style="text-align:left">导入期间创建的临时文件的 HDFS 目录（覆盖默认的“_sqoop”）</td>
</tr>
<tr>
<td style="text-align:left"><code>--warehouse-dir &lt;dir&gt;</code></td>
<td style="text-align:left">表目标的 HDFS 父级</td>
</tr>
<tr>
<td style="text-align:left"><code>--where &lt;where clause&gt;</code></td>
<td style="text-align:left">导入期间使用的 WHERE 子句</td>
</tr>
<tr>
<td style="text-align:left"><code>-z,--compress</code></td>
<td style="text-align:left">启用压缩</td>
</tr>
<tr>
<td style="text-align:left"><code>--compression-codec &lt;c&gt;</code></td>
<td style="text-align:left">使用 Hadoop 编解码器（默认 gzip），parquet格式需要加这个配置</td>
</tr>
<tr>
<td style="text-align:left"><code>--null-string &lt;null-string&gt;</code></td>
<td style="text-align:left">为字符串列写入空值的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>--null-non-string &lt;null-string&gt;</code></td>
<td style="text-align:left">对于非字符串列，要写入空值的字符串</td>
</tr>
</tbody>
</table>
<h3 id="增量导入参数" class="heading-element">
  <a href="#%e5%a2%9e%e9%87%8f%e5%af%bc%e5%85%a5%e5%8f%82%e6%95%b0" class="heading-mark"></a>增量导入参数</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--check-column (col)</code></td>
<td style="text-align:left">指定在确定要导入哪些行时要检查的列。（该列不应为 CHAR/NCHAR/VARCHAR/VARNCHAR/LONGVARCHAR/LONGNVARCHAR 类型）</td>
</tr>
<tr>
<td style="text-align:left"><code>--incremental (mode)</code></td>
<td style="text-align:left">指定 Sqoop 如何确定哪些行是新行。include和 的<code>mode</code> 合法 值。 <code>append``lastmodified</code></td>
</tr>
<tr>
<td style="text-align:left"><code>--last-value (value)</code></td>
<td style="text-align:left">指定上次导入的检查列的最大值。</td>
</tr>
</tbody>
</table>
<h3 id="输出行格式化参数写入到hdfs中的行数据" class="heading-element">
  <a href="#%e8%be%93%e5%87%ba%e8%a1%8c%e6%a0%bc%e5%bc%8f%e5%8c%96%e5%8f%82%e6%95%b0%e5%86%99%e5%85%a5%e5%88%b0hdfs%e4%b8%ad%e7%9a%84%e8%a1%8c%e6%95%b0%e6%8d%ae" class="heading-mark"></a>输出行格式化参数，写入到hdfs中的行数据</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置必填字段括字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--escaped-by &lt;char&gt;</code></td>
<td style="text-align:left">设置转义字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--fields-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置字段分隔符，hive默认分隔符 是‘\001’, 如果行数据以，分割，需设置这个</td>
</tr>
<tr>
<td style="text-align:left"><code>--lines-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置行尾字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--mysql-delimiters</code></td>
<td style="text-align:left">使用 MySQL 的默认分隔符集：字段：<code>,</code> 行：<code>\n</code> 转义符：<code>\</code> 可选封闭符：<code>'</code></td>
</tr>
<tr>
<td style="text-align:left"><code>--optionally-enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置字段包围字符</td>
</tr>
</tbody>
</table>
<p>支持的转义字符</p>
<ul>
<li><code>\b</code> (backspace)</li>
<li><code>\n</code> (newline)</li>
<li><code>\r</code> (carriage return)</li>
<li><code>\t</code> (tab)</li>
<li><code>\&quot;</code> (double-quote)</li>
<li><code>\\'</code> (single-quote)</li>
<li><code>\\</code> (backslash)</li>
<li><code>\0</code> (NUL)</li>
</ul>
<h3 id="输入解析参数" class="heading-element">
  <a href="#%e8%be%93%e5%85%a5%e8%a7%a3%e6%9e%90%e5%8f%82%e6%95%b0" class="heading-mark"></a>输入解析参数</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--input-enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置必填字段</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-escaped-by &lt;char&gt;</code></td>
<td style="text-align:left">设置输入转义字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-fields-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置输入字段分隔符</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-lines-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置输入行尾字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-optionally-enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置字段包围字符</td>
</tr>
</tbody>
</table>
<h3 id="hive参数常用" class="heading-element">
  <a href="#hive%e5%8f%82%e6%95%b0%e5%b8%b8%e7%94%a8" class="heading-mark"></a>hive参数(常用)</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--hive-home &lt;dir&gt;</code></td>
<td style="text-align:left">覆盖<code>$HIVE_HOME</code></td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-import</code></td>
<td style="text-align:left">将表导入 Hive（如果未设置分隔符，则使用 Hive 的默认分隔符。）</td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-overwrite</code></td>
<td style="text-align:left">覆盖 Hive 表中的现有数据。</td>
</tr>
<tr>
<td style="text-align:left"><code>--create-hive-table</code></td>
<td style="text-align:left">true,目标表存在会报错，默认 false。</td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-table &lt;table-name&gt;</code></td>
<td style="text-align:left">设置导入到 Hive 时使用的表名。</td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-drop-import-delims</code></td>
<td style="text-align:left">导入到 Hive 时从字符串字段中 删除_\n_、<em>\r_和</em>\01 。_</td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-delims-replacement</code></td>
<td style="text-align:left">导入 Hive 时，将字符串字段中的 <em>\n</em>、<em>\r_和</em>\01_ 替换为用户定义的字符串。</td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-partition-key</code></td>
<td style="text-align:left">要进行分区的 Hive 字段的名称</td>
</tr>
<tr>
<td style="text-align:left"><code>--hive-partition-value &lt;v&gt;</code></td>
<td style="text-align:left">在此作业中，作为导入到 Hive 中的分区键的字符串值。</td>
</tr>
<tr>
<td style="text-align:left"><code>--map-column-hive &lt;map&gt;</code></td>
<td style="text-align:left">覆盖配置列从 SQL 类型到 Hive 类型的默认映射。如果在此参数中指定逗号，请使用 URL 编码的键和值，例如，使用 DECIMAL(1%2C%201) 而不是 DECIMAL(1, 1)。</td>
</tr>
</tbody>
</table>
<h3 id="hbase-参数" class="heading-element">
  <a href="#hbase-%e5%8f%82%e6%95%b0" class="heading-mark"></a>HBase 参数</h3><div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">--column-family &lt;family&gt;    设置导入的目标列族
</span></span><span class="line"><span class="cl">--hbase-create-table    如果指定，则创建缺失的 HBase 表
</span></span><span class="line"><span class="cl">--hbase-row-key &lt;col&gt;   指定使用哪个输入列作为行键
</span></span><span class="line"><span class="cl">	如果输入表包含复合
</span></span><span class="line"><span class="cl">	则 &lt;col&gt; 必须采用
</span></span><span class="line"><span class="cl">	逗号分隔的复合键列表
</span></span><span class="line"><span class="cl">	属性
</span></span><span class="line"><span class="cl">--hbase-table &lt;table-name&gt;  指定要用作目标的 HBase表（而不是 HDFS）
</span></span><span class="line"><span class="cl">--hbase-bulkload    启用批量加载</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="使用例子" class="heading-element">
  <a href="#%e4%bd%bf%e7%94%a8%e4%be%8b%e5%ad%90" class="heading-mark"></a>使用例子</h3><h4 id="mysql数据导入到hivetxt格式--分区表" class="heading-element">
  <a href="#mysql%e6%95%b0%e6%8d%ae%e5%af%bc%e5%85%a5%e5%88%b0hivetxt%e6%a0%bc%e5%bc%8f--%e5%88%86%e5%8c%ba%e8%a1%a8" class="heading-mark"></a>mysql数据导入到hive，txt格式  分区表</h4><div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop import --connect jdbc:mysql://192.168.8.1:3306/<span class="o">{</span>mysql_db<span class="o">}</span>?tinyInt1isBit<span class="o">=</span><span class="nb">false</span> <span class="se">\ </span>
</span></span><span class="line"><span class="cl">--username user001 <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--password passwd001 <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--query <span class="s2">&#34;{query}&#34;</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--fields-terminated-by <span class="s1">&#39;,&#39;</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--hive-drop-import-delims <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--null-string <span class="s1">&#39;\\\\N&#39;</span>   <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--null-non-string <span class="s1">&#39;\\\\N&#39;</span>  <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--lines-terminated-by <span class="s2">&#34;\\n&#34;</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--hive-overwrite <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--hive-import <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--target-dir /tmp/<span class="o">{</span>hive_table<span class="o">}</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--delete-target-dir <span class="se">\ </span> 
</span></span><span class="line"><span class="cl"><span class="c1"># 分区相关</span>
</span></span><span class="line"><span class="cl">--hive-partition-key <span class="o">{</span>partition_key<span class="o">}</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--hive-partition-value <span class="o">{</span>partition_value<span class="o">}</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--hive-database <span class="o">{</span>hive_db<span class="o">}</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--hive-table <span class="o">{</span>hive_table<span class="o">}</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">--split-by <span class="s1">&#39;{split}&#39;</span> <span class="se">\ </span> 
</span></span><span class="line"><span class="cl">-m <span class="o">{</span>m<span class="o">}</span> <span class="err">\</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="mysql导入到hiveparquet格式" class="heading-element">
  <a href="#mysql%e5%af%bc%e5%85%a5%e5%88%b0hiveparquet%e6%a0%bc%e5%bc%8f" class="heading-mark"></a>mysql导入到hive，parquet格式</h4><div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sqoop import -D mapred.job.name<span class="o">=</span>ETL-<span class="si">${</span><span class="nv">table_name</span><span class="si">}</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --connect jdbc:mysql://192.168.8.61:3306/CN_Proj_DB?tinyInt1isBit<span class="o">=</span><span class="nb">false</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --username user001 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --password  passwd001 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --query <span class="s2">&#34;select * from </span><span class="si">${</span><span class="nv">table_name</span><span class="si">}</span><span class="s2"> where 1=1 and \$CONDITIONS&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --fields-terminated-by <span class="s1">&#39;\001&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --hive-drop-import-delims <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --delete-target-dir  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --null-string <span class="s1">&#39;\\N&#39;</span>   <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --null-non-string <span class="s1">&#39;\\N&#39;</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --lines-terminated-by <span class="s2">&#34;\n&#34;</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --target-dir /yyq_test/<span class="si">${</span><span class="nv">table_name</span><span class="si">}</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --hive-import <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --hive-database bigworktest <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --hive-table <span class="si">${</span><span class="nv">table_name</span><span class="si">}</span>  <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --split-by id <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> -m <span class="m">3</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> <span class="c1"># 压缩格式 parquet文件</span>
</span></span><span class="line"><span class="cl"> --compress <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --compression-codec org.apache.hadoop.io.compress.SnappyCodec <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --hive-overwrite <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span> --as-parquetfile</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="mysql导入到hdfs文件" class="heading-element">
  <a href="#mysql%e5%af%bc%e5%85%a5%e5%88%b0hdfs%e6%96%87%e4%bb%b6" class="heading-mark"></a>mysql导入到hdfs文件</h4><div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop import <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--connect jdbc:mysql://192.168.109.1:3306/userdb <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--username root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--password root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--delete-target-dir <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--fields-terminated-by <span class="s1">&#39;\t&#39;</span>  <span class="c1"># 分隔符</span>
</span></span><span class="line"><span class="cl">--target-dir /sqoopresult <span class="se">\ </span> <span class="c1"># 导入的hdfs目录</span>
</span></span><span class="line"><span class="cl">--table emp 
</span></span><span class="line"><span class="cl">--m <span class="m">1</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="mysql增量导入" class="heading-element">
  <a href="#mysql%e5%a2%9e%e9%87%8f%e5%af%bc%e5%85%a5" class="heading-mark"></a>mysql增量导入</h4><p>append模式</p>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop import <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--connect jdbc:mysql://192.168.109.1:3306/userdb <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--username root  --password root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--table emp --m <span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--target-dir /appendresult <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--incremental append <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--check-column id <span class="se">\ </span> <span class="c1"># 主键</span>
</span></span><span class="line"><span class="cl">--last-value  <span class="m">1205</span>  <span class="c1"># 追加的id</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Lastmodified模式 按照时间戳字段</p>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop import <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--connect jdbc:mysql://192.168.109.1:3306/userdb <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--username root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--password root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--table customertest <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--target-dir /lastmodifiedresult <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--check-column last_mod <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--incremental lastmodified <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--last-value <span class="s2">&#34;2019-09-03 22:59:45&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--m <span class="m">1</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="c1"># --merge-key id 修改旧的，新增新的</span>
</span></span><span class="line"><span class="cl">--append</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="import-all-tables" class="heading-element">
  <a href="#import-all-tables" class="heading-mark"></a>import-all-tables</h2><blockquote>
<p>将一组表从关系型数据库导入到HDFS中</p>
</blockquote>
<p>语法</p>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop import-all-tables <span class="o">(</span>generic-args<span class="o">)</span> <span class="o">(</span>import-args<span class="o">)</span></span></span></code></pre></td></tr></table>
</div>
</div><p>每个组的参数参考官方文档</p>
<p><a href="https://sqoop.apache.org/docs/1.4.7/SqoopUserGuide.html#_literal_sqoop_import_all_tables_literal"target="_blank" rel="external nofollow noopener noreferrer">Sqoop User Guide (v1.4.7) (apache.org)<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<h2 id="export" class="heading-element">
  <a href="#export" class="heading-mark"></a>export</h2><blockquote>
<p>HDFS数据 到 RDBMS</p>
</blockquote>
<p>语法</p>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop <span class="nb">export</span> <span class="o">(</span>generic-args<span class="o">)</span> <span class="o">(</span>export-args<span class="o">)</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="common参数-1" class="heading-element">
  <a href="#common%e5%8f%82%e6%95%b0-1" class="heading-mark"></a>common参数</h3><table>
<thead>
<tr>
<th style="text-align:left">争论</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--connect &lt;jdbc-uri&gt;</code></td>
<td style="text-align:left">指定 JDBC 连接字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>--connection-manager &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的连接管理器类</td>
</tr>
<tr>
<td style="text-align:left"><code>--driver &lt;class-name&gt;</code></td>
<td style="text-align:left">手动指定要使用的 JDBC 驱动程序类</td>
</tr>
<tr>
<td style="text-align:left"><code>--hadoop-mapred-home &lt;dir&gt;</code></td>
<td style="text-align:left">覆盖 $HADOOP_MAPRED_HOME</td>
</tr>
<tr>
<td style="text-align:left"><code>--help</code></td>
<td style="text-align:left">打印使用说明</td>
</tr>
<tr>
<td style="text-align:left"><code>--password-file</code></td>
<td style="text-align:left">设置包含身份验证密码的文件路径</td>
</tr>
<tr>
<td style="text-align:left"><code>-P</code></td>
<td style="text-align:left">从控制台读取密码</td>
</tr>
<tr>
<td style="text-align:left"><code>--password &lt;password&gt;</code></td>
<td style="text-align:left">设置认证密码</td>
</tr>
<tr>
<td style="text-align:left"><code>--username &lt;username&gt;</code></td>
<td style="text-align:left">设置认证用户名</td>
</tr>
<tr>
<td style="text-align:left"><code>--verbose</code></td>
<td style="text-align:left">工作时打印更多信息</td>
</tr>
<tr>
<td style="text-align:left"><code>--connection-param-file &lt;filename&gt;</code></td>
<td style="text-align:left">提供连接参数的可选属性文件</td>
</tr>
<tr>
<td style="text-align:left"><code>--relaxed-isolation</code></td>
<td style="text-align:left">将连接事务隔离设置为映射器读取未提交。</td>
</tr>
</tbody>
</table>
<h3 id="验证参数-1" class="heading-element">
  <a href="#%e9%aa%8c%e8%af%81%e5%8f%82%e6%95%b0-1" class="heading-mark"></a>验证参数</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--validate</code></td>
<td style="text-align:left">启用复制数据的验证，仅支持单表复制。</td>
</tr>
<tr>
<td style="text-align:left"><code>--validator &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的验证器类。</td>
</tr>
<tr>
<td style="text-align:left"><code>--validation-threshold &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的验证阈值类。</td>
</tr>
<tr>
<td style="text-align:left"><code>--validation-failurehandler &lt;class-name&gt;</code></td>
<td style="text-align:left">指定要使用的验证失败处理程序类。</td>
</tr>
</tbody>
</table>
<h3 id="导出控制参数" class="heading-element">
  <a href="#%e5%af%bc%e5%87%ba%e6%8e%a7%e5%88%b6%e5%8f%82%e6%95%b0" class="heading-mark"></a>导出控制参数</h3><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--columns &lt;col,col,col…&gt;</code></td>
<td style="text-align:left">要导出到表的列</td>
</tr>
<tr>
<td style="text-align:left"><code>--direct</code></td>
<td style="text-align:left">使用直接导出快速路径</td>
</tr>
<tr>
<td style="text-align:left"><code>--export-dir &lt;dir&gt;</code></td>
<td style="text-align:left">导出的 HDFS 源路径</td>
</tr>
<tr>
<td style="text-align:left"><code>-m,--num-mappers &lt;n&gt;</code></td>
<td style="text-align:left">使用_n个_map任务并行导出</td>
</tr>
<tr>
<td style="text-align:left"><code>--table &lt;table-name&gt;</code></td>
<td style="text-align:left">要填充的表格</td>
</tr>
<tr>
<td style="text-align:left"><code>--call &lt;stored-proc-name&gt;</code></td>
<td style="text-align:left">要调用的存储过程</td>
</tr>
<tr>
<td style="text-align:left"><code>--update-key &lt;col-name&gt;</code></td>
<td style="text-align:left">用于更新的锚点列。如果有多个列，请使用逗号分隔的列表。</td>
</tr>
<tr>
<td style="text-align:left"><code>--update-mode &lt;mode&gt;</code></td>
<td style="text-align:left">指定当数据库中发现具有不匹配键的新行时如何执行更新。</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><code>updateonly</code>（默认）和 <code>allowinsert</code>。不存在会插入数据</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-null-string &lt;null-string&gt;</code></td>
<td style="text-align:left">对于字符串列，将被解释为空的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-null-non-string &lt;null-string&gt;</code></td>
<td style="text-align:left">对于非字符串列，将被解释为空的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>--staging-table &lt;staging-table-name&gt;</code></td>
<td style="text-align:left">数据在插入目标表之前将暂存于其中的表。</td>
</tr>
<tr>
<td style="text-align:left"><code>--clear-staging-table</code></td>
<td style="text-align:left">指示可以删除暂存表中的所有数据。</td>
</tr>
<tr>
<td style="text-align:left"><code>--batch</code></td>
<td style="text-align:left">使用批处理模式执行底层语句。</td>
</tr>
</tbody>
</table>
<h3 id="输入解析参数-1" class="heading-element">
  <a href="#%e8%be%93%e5%85%a5%e8%a7%a3%e6%9e%90%e5%8f%82%e6%95%b0-1" class="heading-mark"></a>输入解析参数</h3><table>
<thead>
<tr>
<th style="text-align:left">争论</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--input-enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置必填字段</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-escaped-by &lt;char&gt;</code></td>
<td style="text-align:left">设置输入转义字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-fields-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置输入字段分隔符</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-lines-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置输入行尾字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--input-optionally-enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置字段包围字符</td>
</tr>
</tbody>
</table>
<h3 id="输出行格式化参数" class="heading-element">
  <a href="#%e8%be%93%e5%87%ba%e8%a1%8c%e6%a0%bc%e5%bc%8f%e5%8c%96%e5%8f%82%e6%95%b0" class="heading-mark"></a>输出行格式化参数</h3><table>
<thead>
<tr>
<th style="text-align:left">争论</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置必填字段括字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--escaped-by &lt;char&gt;</code></td>
<td style="text-align:left">设置转义字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--fields-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置字段分隔符</td>
</tr>
<tr>
<td style="text-align:left"><code>--lines-terminated-by &lt;char&gt;</code></td>
<td style="text-align:left">设置行尾字符</td>
</tr>
<tr>
<td style="text-align:left"><code>--mysql-delimiters</code></td>
<td style="text-align:left">使用 MySQL 的默认分隔符集：字段：<code>,</code> 行：<code>\n</code> 转义符：<code>\</code> 可选封闭符：<code>'</code></td>
</tr>
<tr>
<td style="text-align:left"><code>--optionally-enclosed-by &lt;char&gt;</code></td>
<td style="text-align:left">设置字段包围字符</td>
</tr>
</tbody>
</table>
<p>Sqoop 会自动生成代码来解析和解释包含要导出回数据库的数据的文件记录。如果这些文件是使用非默认分隔符创建的（逗号分隔的字段和换行符分隔的记录），则应再次指定相同的分隔符，以便 Sqoop 可以解析您的文件。</p>
<h3 id="代码生成参数" class="heading-element">
  <a href="#%e4%bb%a3%e7%a0%81%e7%94%9f%e6%88%90%e5%8f%82%e6%95%b0" class="heading-mark"></a>代码生成参数</h3><table>
<thead>
<tr>
<th style="text-align:left">争论</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>--bindir &lt;dir&gt;</code></td>
<td style="text-align:left">编译对象的输出目录</td>
</tr>
<tr>
<td style="text-align:left"><code>--class-name &lt;name&gt;</code></td>
<td style="text-align:left">设置生成的类名。这将覆盖 <code>--package-name</code>。与 结合使用时 <code>--jar-file</code>，设置输入类。</td>
</tr>
<tr>
<td style="text-align:left"><code>--jar-file &lt;file&gt;</code></td>
<td style="text-align:left">禁用代码生成；使用指定的 jar</td>
</tr>
<tr>
<td style="text-align:left"><code>--outdir &lt;dir&gt;</code></td>
<td style="text-align:left">生成代码的输出目录</td>
</tr>
<tr>
<td style="text-align:left"><code>--package-name &lt;name&gt;</code></td>
<td style="text-align:left">将自动生成的类放入此包中</td>
</tr>
<tr>
<td style="text-align:left"><code>--map-column-java &lt;m&gt;</code></td>
<td style="text-align:left">覆盖配置列的从 SQL 类型到 Java 类型的默认映射。</td>
</tr>
</tbody>
</table>
<h3 id="使用例子-1" class="heading-element">
  <a href="#%e4%bd%bf%e7%94%a8%e4%be%8b%e5%ad%90-1" class="heading-mark"></a>使用例子</h3><h4 id="hdfs导出到mysql" class="heading-element">
  <a href="#hdfs%e5%af%bc%e5%87%ba%e5%88%b0mysql" class="heading-mark"></a>HDFS导出到MySQL</h4><div class="highlight" id="id-10"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop <span class="nb">export</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--connect jdbc:mysql://192.168.109.1:3306/userdb <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--username root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--password root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--table employee <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--export-dir /emp/emp_data</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="更新导出" class="heading-element">
  <a href="#%e6%9b%b4%e6%96%b0%e5%af%bc%e5%87%ba" class="heading-mark"></a>更新导出</h4><p>只更新操作</p>
<div class="highlight" id="id-11"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop <span class="nb">export</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--connect jdbc:mysql://192.168.109.1:3306/userdb <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--username root --password root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--table updateonly <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--export-dir /updateonly_2/ <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="c1"># 更新导出</span>
</span></span><span class="line"><span class="cl">--update-key id <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--update-mode updateonly  <span class="c1"># 只更新操作</span></span></span></code></pre></td></tr></table>
</div>
</div><p>更新插入模式</p>
<div class="highlight" id="id-12"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sqoop <span class="nb">export</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--connect jdbc:mysql://192.168.8.108:3306/ipv6_locate?serverTimezone<span class="o">=</span>Asia/Shanghai<span class="se">\&amp;</span><span class="nv">useUnicode</span><span class="o">=</span>true<span class="se">\&amp;</span><span class="nv">characterEncoding</span><span class="o">=</span>utf8<span class="se">\&amp;</span><span class="nv">autoReconnect</span><span class="o">=</span>true<span class="se">\&amp;</span><span class="nv">failOverReadOnly</span><span class="o">=</span><span class="nb">false</span> <span class="se">\ </span><span class="c1"># 有时候可能会出现中文乱码问题，需要添加编码集</span>
</span></span><span class="line"><span class="cl">--username root <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--password passwd01 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--table mall_rpt_ip_with_scene <span class="se">\ </span> <span class="c1"># 目标mysql中的表名</span>
</span></span><span class="line"><span class="cl">--update-key <span class="s2">&#34;id&#34;</span> <span class="se">\ </span>  <span class="c1"># 指定目标表的主键</span>
</span></span><span class="line"><span class="cl">--update-mode allowinsert <span class="se">\ </span> <span class="c1"># 指定目标表的更新模式</span>
</span></span><span class="line"><span class="cl">--input-null-string <span class="s1">&#39;\\N&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--input-null-non-string <span class="s1">&#39;\\N&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>--input-fields-terminated-by <span class="s1">&#39;\001&#39;</span> <span class="se">\	</span><span class="c1"># hive中字段间的分隔符</span>
</span></span><span class="line"><span class="cl">--input-lines-terminated-by <span class="s2">&#34;\n&#34;</span> <span class="se">\	</span>	<span class="c1"># hive中行与行之间的分隔符	</span>
</span></span><span class="line"><span class="cl">--export-dir hdfs://cdh1.host.com:8020/user/hive/warehouse/wsp_test.db/mall_rpt_ip_with_scene <span class="se">\ </span> <span class="c1"># hive表存放的位置</span>
</span></span><span class="line"><span class="cl">--m <span class="m">1</span>  <span class="c1"># 并行度 </span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>一文搞懂Kerberos</title>
  <link>https://ipfred.github.io/lang/docker/20240511160713/</link>
  <pubDate>Sat, 11 May 2024 16:07:13 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/lang/docker/20240511160713/</guid>
  <description><![CDATA[<p><strong>Kerberos 是一种身份认证协议，被广泛运用在大数据生态中，甚至可以说是大数据身份认证的事实标准。本文将详细说明 Kerberos 原理。</strong></p>
<h2 id="二kerberos-是什么" class="heading-element">
  <a href="#%e4%ba%8ckerberos-%e6%98%af%e4%bb%80%e4%b9%88" class="heading-mark"></a>二、Kerberos 是什么？</h2><p>Kerberos 一词来源于古希腊神话中的 Cerberus —— 守护地狱之门的三头犬。
一句话来说，Kerberos是一种基于加密Ticket的身份认证协议。
主要有三部分组成：</p>
<ul>
<li>Key Distribution Center (即KDC)</li>
<li>Client</li>
<li>Service
![[asserts/Pasted image 20240511160914.png]]客户端会先访问两次KDC，然后再访问目标Service，如：HTTP服务。</li>
</ul>
<h2 id="三kerberos-基本概念" class="heading-element">
  <a href="#%e4%b8%89kerberos-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="heading-mark"></a>三、Kerberos 基本概念</h2><h3 id="31-基本概念" class="heading-element">
  <a href="#31-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" class="heading-mark"></a>3.1 基本概念</h3><ul>
<li>Principal：大致可以认为是 Kerberos 世界的用户名，用于标识身份。principal 主要由三部分构成：primary，instance(可选) 和 realm。包含 instance 的principal，一般会作为server端的principal，如：NameNode，HiverServer2，Presto Coordinator等；不含有 instance 的principal，一般会作为 客户端的principal，用于身份认证。例子如下图所示：</li>
</ul>
<p><img loading="lazy" src="https://pic3.zhimg.com/80/v2-cbd2bd055874acf22ab1780e3283bc82_720w.webp" alt="https://pic3.zhimg.com/80/v2-cbd2bd055874acf22ab1780e3283bc82_720w.webp" srcset="https://pic3.zhimg.com/80/v2-cbd2bd055874acf22ab1780e3283bc82_720w.webp?size=small, https://pic3.zhimg.com/80/v2-cbd2bd055874acf22ab1780e3283bc82_720w.webp?size=medium 1.5x, https://pic3.zhimg.com/80/v2-cbd2bd055874acf22ab1780e3283bc82_720w.webp?size=large 2x" data-title="https://pic3.zhimg.com/80/v2-cbd2bd055874acf22ab1780e3283bc82_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<ul>
<li>Keytab：&ldquo;密码本&rdquo;。包含了多个 principal 与密码的文件，用户可以利用该文件进行身份认证。</li>
<li>Ticket Cache：客户端与 KDC 交互完成后，包含身份认证信息的文件，短期有效，需要不断renew。</li>
<li>Realm：Kerberos 系统中的一个namespace。不同 Kerberos 环境，可以通过 realm 进行区分。</li>
</ul>
<h3 id="32-kdc" class="heading-element">
  <a href="#32-kdc" class="heading-mark"></a>3.2 KDC</h3><p>Key Distribution Center（即 KDC）, 是 Kerberos 的核心组件，主要由三个部分组成：</p>
<ul>
<li>
<p>Kerberos Database: 包含了一个 Realm 中所有的 principal、密码与其他信息。（默认：Berkeley DB）</p>
</li>
<li>
<p>Authentication Service(AS): 进行用户信息认证，为客户端提供 Ticket Granting Tickets(TGT)。</p>
</li>
<li>
<p>Ticket Granting Service(TGS): 验证 TGT 与 Authenticator，为客户端提供 Service Tickets。</p>
</li>
</ul>
<h2 id="四kerberos-原理" class="heading-element">
  <a href="#%e5%9b%9bkerberos-%e5%8e%9f%e7%90%86" class="heading-mark"></a>四、Kerberos 原理</h2><p>在深入了解 Kerberos 原理之前，先介绍一下 Kerberos 协议的几个大前提，帮助大家理解：</p>
<ol>
<li>
<p>Kerberos 基于 Ticket 实现身份认证，而非密码。<strong>如果客户端无法利用本地密钥，解密出 KDC 返回的加密Ticket，认证将无法通过。</strong></p>
</li>
<li>
<p>客户端将<strong>依次</strong>与 Authentication Service, Ticket Granting Service 以及目标Service进行交互，共三次交互。</p>
</li>
<li>
<p>客户端与其他组件交互是，都将获取到<strong>两条</strong>信息，其中一条可以通过本地密钥解密出，另外一条将无法解密出。</p>
</li>
<li>
<p>客户端想要访问的目标服务，<strong>将不会直接</strong>与KDC交互，而是通过能否正确解密出客户端的请求来进行认证。</p>
</li>
</ol>
<p><strong>5. KDC Database 包含有所有 principal 对应的密码。</strong></p>
<p><strong>6.</strong> Kerberos 中信息加密方式一般是<strong>对称加密</strong>（可配置成非对称加密）。</p>
<p>下面，我们将以客户端访问 http 服务为例，解释整个认证过程。</p>
<h3 id="41-客户端与-authentication-service" class="heading-element">
  <a href="#41-%e5%ae%a2%e6%88%b7%e7%ab%af%e4%b8%8e-authentication-service" class="heading-mark"></a>4.1 客户端与 Authentication Service</h3><p>第一步，客户端通过<code>kinit USERNAME</code>或其他方式，将客户端ID, 目标HTTP服务ID, 网络地址（可能是多个机器的IP地址列表，如果想在任何机器上使用，则可能为空），以及TGT有效期的寿命等信息发送给 Authentication Service。</p>
<p><img loading="lazy" src="https://pic3.zhimg.com/80/v2-94f174924d21f434ad65e9c4597b8f12_720w.webp" alt="https://pic3.zhimg.com/80/v2-94f174924d21f434ad65e9c4597b8f12_720w.webp" srcset="https://pic3.zhimg.com/80/v2-94f174924d21f434ad65e9c4597b8f12_720w.webp?size=small, https://pic3.zhimg.com/80/v2-94f174924d21f434ad65e9c4597b8f12_720w.webp?size=medium 1.5x, https://pic3.zhimg.com/80/v2-94f174924d21f434ad65e9c4597b8f12_720w.webp?size=large 2x" data-title="https://pic3.zhimg.com/80/v2-94f174924d21f434ad65e9c4597b8f12_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>第二步，Authentication Server 将检查客户端ID是否在KDC数据库中。</p>
<p><img loading="lazy" src="https://pic3.zhimg.com/80/v2-9d1309a37af3918794b0dba58b5cc5ce_720w.webp" alt="https://pic3.zhimg.com/80/v2-9d1309a37af3918794b0dba58b5cc5ce_720w.webp" srcset="https://pic3.zhimg.com/80/v2-9d1309a37af3918794b0dba58b5cc5ce_720w.webp?size=small, https://pic3.zhimg.com/80/v2-9d1309a37af3918794b0dba58b5cc5ce_720w.webp?size=medium 1.5x, https://pic3.zhimg.com/80/v2-9d1309a37af3918794b0dba58b5cc5ce_720w.webp?size=large 2x" data-title="https://pic3.zhimg.com/80/v2-9d1309a37af3918794b0dba58b5cc5ce_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>如果 Authentication Server 检查操作没有异常，那么KDC将随机生成一个 key，用于客户端与 Ticket Granting Service(TGS) 通信。这个Key，一般被称为 TGS Session Key。随后 Authentication Server 将发送<strong>两条信息</strong>给客户端。示意图如下：</p>
<p><img loading="lazy" src="https://pic4.zhimg.com/80/v2-e5eefd066573797a39f0f8eeb3f52f07_720w.webp" alt="https://pic4.zhimg.com/80/v2-e5eefd066573797a39f0f8eeb3f52f07_720w.webp" srcset="https://pic4.zhimg.com/80/v2-e5eefd066573797a39f0f8eeb3f52f07_720w.webp?size=small, https://pic4.zhimg.com/80/v2-e5eefd066573797a39f0f8eeb3f52f07_720w.webp?size=medium 1.5x, https://pic4.zhimg.com/80/v2-e5eefd066573797a39f0f8eeb3f52f07_720w.webp?size=large 2x" data-title="https://pic4.zhimg.com/80/v2-e5eefd066573797a39f0f8eeb3f52f07_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>其中一条信息被称为TGT，由TGS的密钥加密，客户端无法解密，包含客户端ID, TGS Session Key等信息。另一条信息由客户端密钥加密，客户端可以正常解密，包含目标 HTTP 服务ID，TGS Session Key等信息。</p>
<p>第三步，客户端利用本地的密钥解密出第二条信息。如果本地密钥无法解密出信息，那么认证失败。示意图如下：</p>
<p><img loading="lazy" src="https://pic4.zhimg.com/80/v2-36449c03f88f9b30bd22ad624c716beb_720w.webp" alt="https://pic4.zhimg.com/80/v2-36449c03f88f9b30bd22ad624c716beb_720w.webp" srcset="https://pic4.zhimg.com/80/v2-36449c03f88f9b30bd22ad624c716beb_720w.webp?size=small, https://pic4.zhimg.com/80/v2-36449c03f88f9b30bd22ad624c716beb_720w.webp?size=medium 1.5x, https://pic4.zhimg.com/80/v2-36449c03f88f9b30bd22ad624c716beb_720w.webp?size=large 2x" data-title="https://pic4.zhimg.com/80/v2-36449c03f88f9b30bd22ad624c716beb_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h3 id="42-客户端与-ticket-granting-service" class="heading-element">
  <a href="#42-%e5%ae%a2%e6%88%b7%e7%ab%af%e4%b8%8e-ticket-granting-service" class="heading-mark"></a>4.2 客户端与 Ticket Granting Service</h3><p>这时候，客户端有了 TGT（由于本地没有TGS的密钥，导致无法解密出其数据）与 TGS Session Key。</p>
<p>第四步，客户端将:</p>
<ul>
<li>“无脑”将 AS 发送过来的TGT（由<strong>TGS密钥</strong>加密）转发给TGS</li>
<li>将包含自身信息的Authenticator(由<strong>TGS Session Key</strong>加密)发送给TGS</li>
</ul>
<p><img loading="lazy" src="https://pic4.zhimg.com/80/v2-8bca090f01843d5067e554a544da6c2f_720w.webp" alt="https://pic4.zhimg.com/80/v2-8bca090f01843d5067e554a544da6c2f_720w.webp" srcset="https://pic4.zhimg.com/80/v2-8bca090f01843d5067e554a544da6c2f_720w.webp?size=small, https://pic4.zhimg.com/80/v2-8bca090f01843d5067e554a544da6c2f_720w.webp?size=medium 1.5x, https://pic4.zhimg.com/80/v2-8bca090f01843d5067e554a544da6c2f_720w.webp?size=large 2x" data-title="https://pic4.zhimg.com/80/v2-8bca090f01843d5067e554a544da6c2f_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>第五步，TGS 将利用 自身的密钥从TGT中解密出<strong>TGS Session Key</strong>，然后利用<strong>TGS Session Key</strong>从Authenticator 中解密出客户端的信息。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-bb546ec4d0ee2f6939ae26a73d7f74c8_720w.webp" alt="https://pic1.zhimg.com/80/v2-bb546ec4d0ee2f6939ae26a73d7f74c8_720w.webp" srcset="https://pic1.zhimg.com/80/v2-bb546ec4d0ee2f6939ae26a73d7f74c8_720w.webp?size=small, https://pic1.zhimg.com/80/v2-bb546ec4d0ee2f6939ae26a73d7f74c8_720w.webp?size=medium 1.5x, https://pic1.zhimg.com/80/v2-bb546ec4d0ee2f6939ae26a73d7f74c8_720w.webp?size=large 2x" data-title="https://pic1.zhimg.com/80/v2-bb546ec4d0ee2f6939ae26a73d7f74c8_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>TGS 解密出所有信息后，将进行身份检查，进行认证：</p>
<ul>
<li>将客户端ID与TGT的客户端ID进行比较</li>
<li>比较来自 Authenticator 的时间戳和TGT的时间戳 (典型的Kerberos系统的容忍度是2分钟，但也可以另行配置)</li>
<li>检查TGT是否过期</li>
<li>检查Authenticator是否已经在TGS的缓存中（为了避免重放攻击）</li>
</ul>
<p>当所有检查都通过后， TGS 随机生成一个 Key 用于后续客户端与 HTTP 服务交互时进行通信加密使用，即 HTTP Session Key。同样地，TGS 将发送<strong>两条信息</strong>给客户端: 其中一条是 HTTP Ticket，由 <strong>HTTP 服务的密钥</strong>进行加密；另一条则由<strong>TGS Session Key</strong>加密，包含了客户端信息与时间戳。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-3dd19e4c2ff07ab30339a3f53cd18cc4_720w.webp" alt="https://pic1.zhimg.com/80/v2-3dd19e4c2ff07ab30339a3f53cd18cc4_720w.webp" srcset="https://pic1.zhimg.com/80/v2-3dd19e4c2ff07ab30339a3f53cd18cc4_720w.webp?size=small, https://pic1.zhimg.com/80/v2-3dd19e4c2ff07ab30339a3f53cd18cc4_720w.webp?size=medium 1.5x, https://pic1.zhimg.com/80/v2-3dd19e4c2ff07ab30339a3f53cd18cc4_720w.webp?size=large 2x" data-title="https://pic1.zhimg.com/80/v2-3dd19e4c2ff07ab30339a3f53cd18cc4_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>第六步，客户端将利用<strong>TGS Session Key</strong>解密出其中一条信息，另一条信息由于是由目标HTTP服务加密，无法解密。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/80/v2-8c5a7a1b6f20161b73328e270b74da95_720w.webp" alt="https://pic2.zhimg.com/80/v2-8c5a7a1b6f20161b73328e270b74da95_720w.webp" srcset="https://pic2.zhimg.com/80/v2-8c5a7a1b6f20161b73328e270b74da95_720w.webp?size=small, https://pic2.zhimg.com/80/v2-8c5a7a1b6f20161b73328e270b74da95_720w.webp?size=medium 1.5x, https://pic2.zhimg.com/80/v2-8c5a7a1b6f20161b73328e270b74da95_720w.webp?size=large 2x" data-title="https://pic2.zhimg.com/80/v2-8c5a7a1b6f20161b73328e270b74da95_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h3 id="43-客户端与-http-service" class="heading-element">
  <a href="#43-%e5%ae%a2%e6%88%b7%e7%ab%af%e4%b8%8e-http-service" class="heading-mark"></a>4.3 客户端与 HTTP Service</h3><p>这时候，客户端有了HTTP Ticket（由于本地没有HTTP服务的密钥，导致无法解密出其数据）与 HTTP Session Key。</p>
<p>第七步，客户端将:</p>
<ul>
<li>“无脑”将 AS 发送过来的 HTTP Ticket（由<strong>HTTP 密钥</strong>加密）转发给目标 http 服务。</li>
<li>将包含自身信息的Authenticator(由<strong>HTTP Session Key</strong>加密)发送给 http 服务。</li>
</ul>
<p><img loading="lazy" src="https://pic4.zhimg.com/80/v2-aa1d659b63cdae8c7a4eb464e4e3cec7_720w.webp" alt="https://pic4.zhimg.com/80/v2-aa1d659b63cdae8c7a4eb464e4e3cec7_720w.webp" srcset="https://pic4.zhimg.com/80/v2-aa1d659b63cdae8c7a4eb464e4e3cec7_720w.webp?size=small, https://pic4.zhimg.com/80/v2-aa1d659b63cdae8c7a4eb464e4e3cec7_720w.webp?size=medium 1.5x, https://pic4.zhimg.com/80/v2-aa1d659b63cdae8c7a4eb464e4e3cec7_720w.webp?size=large 2x" data-title="https://pic4.zhimg.com/80/v2-aa1d659b63cdae8c7a4eb464e4e3cec7_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>第八步，HTTP服务首先利用自身的密钥解密出 HTTP Ticket 的信息，得到 HTTP Session Key；随后，利用HTTP Session Key解密出用户的Authenticator信息。</p>
<p><img loading="lazy" src="https://pic2.zhimg.com/80/v2-a3b25bf0e716f0b967be33550ba82d7d_720w.webp" alt="https://pic2.zhimg.com/80/v2-a3b25bf0e716f0b967be33550ba82d7d_720w.webp" srcset="https://pic2.zhimg.com/80/v2-a3b25bf0e716f0b967be33550ba82d7d_720w.webp?size=small, https://pic2.zhimg.com/80/v2-a3b25bf0e716f0b967be33550ba82d7d_720w.webp?size=medium 1.5x, https://pic2.zhimg.com/80/v2-a3b25bf0e716f0b967be33550ba82d7d_720w.webp?size=large 2x" data-title="https://pic2.zhimg.com/80/v2-a3b25bf0e716f0b967be33550ba82d7d_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<p>信息解密完成后，HTTP 服务同样需要做一些信息检查：</p>
<ul>
<li>将 Authenticator 中的客户端ID与HTTP Ticket中的客户端ID进行比较</li>
<li>比较来自 Authenticator 的时间戳和 HTTP Ticket 的时间戳 (典型的 Kerberos 系统对差异的容忍度是 2 分钟，但也可以另行配置)</li>
<li>检查Ticket是否过期</li>
<li>检查 Authenticator 是否已经在HTTP服务器的缓存中（为了避免重播攻击）</li>
</ul>
<p>至此，所有的认证过程通过，客户端即可与远程HTTP服务完成了身份认证，可以进行后续的信息通信。</p>
<p><img loading="lazy" src="https://pic1.zhimg.com/80/v2-575f441e3ac1d61a275d4df648ec0b0c_720w.webp" alt="https://pic1.zhimg.com/80/v2-575f441e3ac1d61a275d4df648ec0b0c_720w.webp" srcset="https://pic1.zhimg.com/80/v2-575f441e3ac1d61a275d4df648ec0b0c_720w.webp?size=small, https://pic1.zhimg.com/80/v2-575f441e3ac1d61a275d4df648ec0b0c_720w.webp?size=medium 1.5x, https://pic1.zhimg.com/80/v2-575f441e3ac1d61a275d4df648ec0b0c_720w.webp?size=large 2x" data-title="https://pic1.zhimg.com/80/v2-575f441e3ac1d61a275d4df648ec0b0c_720w.webp" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h2 id="五kerberos-的优势" class="heading-element">
  <a href="#%e4%ba%94kerberos-%e7%9a%84%e4%bc%98%e5%8a%bf" class="heading-mark"></a>五、Kerberos 的优势</h2><ol>
<li>密码无需进行网络传输。基于 Ticket 实现身份认证，保障密钥安全性。</li>
<li>双向认证。整个认证过程中，不仅需要客户端进行认证，待访问的服务也需要进行身份认证。</li>
<li>高性能。一旦Client获得用过访问某个Server的Ticket，该Server就能根据这个Ticket实现对Client的验证，而无须KDC的再次参与。</li>
</ol>
]]></description>
</item>
<item>
  <title>docker使用常用命令</title>
  <link>https://ipfred.github.io/lang/docker/20240510103849/</link>
  <pubDate>Fri, 10 May 2024 10:38:49 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/lang/docker/20240510103849/</guid>
  <description><![CDATA[<h3 id="docker命令官方文档" class="heading-element">
  <a href="#docker%e5%91%bd%e4%bb%a4%e5%ae%98%e6%96%b9%e6%96%87%e6%a1%a3" class="heading-mark"></a>docker命令官方文档</h3><p><a href="https://docs.docker.com/reference/cli/docker/"target="_blank" rel="external nofollow noopener noreferrer">docker | Docker Docs<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<h3 id="代理配置" class="heading-element">
  <a href="#%e4%bb%a3%e7%90%86%e9%85%8d%e7%bd%ae" class="heading-mark"></a>代理配置</h3><p>/etc/docker/daemon.json 文件写入下面内容(文件不存在新建)</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;registry-mirrors&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;https://hub-mirror.c.163.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;https://mirror.baidubce.com&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>重启docker服务</p>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl daemon-reload
</span></span><span class="line"><span class="cl">sudo systemctl restart docker
</span></span><span class="line"><span class="cl">sudo service docker stop
</span></span><span class="line"><span class="cl">sudo service docker start</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="docker基础命令" class="heading-element">
  <a href="#docker%e5%9f%ba%e7%a1%80%e5%91%bd%e4%bb%a4" class="heading-mark"></a>docker基础命令</h2><h3 id="增" class="heading-element">
  <a href="#%e5%a2%9e" class="heading-mark"></a>增</h3><div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull 镜像文件名 
</span></span><span class="line"><span class="cl"><span class="c1">#下载docker镜像</span>
</span></span><span class="line"><span class="cl">docker  run  hello-world   <span class="c1">#运行镜像文件,生成docker容器实例,docker run命令,会自动下载不存在的镜像</span>
</span></span><span class="line"><span class="cl"><span class="c1">#容器是随时创建,随时删除的,轻量级,每次docker run 都会生成新的容器记录 </span>
</span></span><span class="line"><span class="cl"><span class="c1">#docker容器进程,如果没有在后台运行的话,就会立即挂掉,  (容器中必须有正在工作的进程)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#运行一个活着的容器进程</span>
</span></span><span class="line"><span class="cl">docker run -d centos /bin/sh -c <span class="s2">&#34;while true;do echo &#39;你个糟老头子,不听课,坏得很&#39;; sleep 1;done&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">#运行镜像  </span>
</span></span><span class="line"><span class="cl">	-d  后台运行的意思
</span></span><span class="line"><span class="cl">	 centos  指的是镜像文件名  
</span></span><span class="line"><span class="cl">	/bin/sh  要在这个容器内运行的命令,指定的解释器 shell解释器 
</span></span><span class="line"><span class="cl">	-c  指定一段shell代码 
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="c1">#进入容器空间内的命令 </span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it 容器id  /bin/bash  <span class="c1">#进入容器空间内 </span>
</span></span><span class="line"><span class="cl">	-i 交互式命令操作
</span></span><span class="line"><span class="cl">	-t 开启一个新的终端
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span> 退出虚拟容器
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="c1">#运行一个ubuntu容器</span>
</span></span><span class="line"><span class="cl">docker run -it ubuntu  </span></span></code></pre></td></tr></table>
</div>
</div><h3 id="删" class="heading-element">
  <a href="#%e5%88%a0" class="heading-mark"></a>删</h3><div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker rmi  镜像名字/镜像id   <span class="c1">#删除镜像文件 </span>
</span></span><span class="line"><span class="cl">docker rm  容器id/容器进程名字   <span class="c1">#删除容器记录</span>
</span></span><span class="line"><span class="cl">docker rmi -f  <span class="c1">#强制删除镜像文件  </span>
</span></span><span class="line"><span class="cl">docker  rm  <span class="sb">`</span>docker ps -aq<span class="sb">`</span>   <span class="c1">#批量删除容器记录,只能删除挂掉的容器记录 </span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="改" class="heading-element">
  <a href="#%e6%94%b9" class="heading-mark"></a>改</h3><div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#docker容器进程的启停命令</span>
</span></span><span class="line"><span class="cl">docker start  容器id 
</span></span><span class="line"><span class="cl">docker stop  容器id  </span></span></code></pre></td></tr></table>
</div>
</div><h3 id="查" class="heading-element">
  <a href="#%e6%9f%a5" class="heading-mark"></a>查</h3><div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker search  镜像文件名字   <span class="c1">#搜索镜像文件</span>
</span></span><span class="line"><span class="cl">docker images  <span class="c1">#列出当前所有的镜像文件 </span>
</span></span><span class="line"><span class="cl">docker ps   <span class="c1">#列出当前记录正在运行的容器进程 </span>
</span></span><span class="line"><span class="cl">docker ps -a  <span class="c1">#列出所有的容器进程,以及挂掉的  </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker logs 容器id  <span class="c1">#查看容器内的日志信息 </span>
</span></span><span class="line"><span class="cl">docker logs -f  容器id   <span class="c1">#检测容器内的日志 </span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="容器镜像" class="heading-element">
  <a href="#%e5%ae%b9%e5%99%a8%e9%95%9c%e5%83%8f" class="heading-mark"></a>容器镜像</h3><h4 id="提交自己开发的dokcer镜像文件" class="heading-element">
  <a href="#%e6%8f%90%e4%ba%a4%e8%87%aa%e5%b7%b1%e5%bc%80%e5%8f%91%e7%9a%84dokcer%e9%95%9c%e5%83%8f%e6%96%87%e4%bb%b6" class="heading-mark"></a>提交自己开发的dokcer镜像文件</h4><ol>
<li>docker run -it centos /bin/bash #进入一个纯净的centos容器空间内,此时是最小化安装的系统,没有vim 没有py3</li>
<li>在容器空间内 yum install vim ,然后退出容器</li>
<li>提交容器为新的镜像文件</li>
</ol>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#  docker commit 容器进程id    镜像文件的名字 </span>
</span></span><span class="line"><span class="cl">docker commit <span class="m">419</span>  s21docker-centos-vim </span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>导出docker镜像</li>
</ol>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker save 镜像文件名  &gt; /opt/s21-centos-vim.tar.gz  </span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>导入镜像文件</li>
</ol>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker load &lt;  同事给你发的镜像文件</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>推送镜像只dockerhub</li>
</ol>
<div class="highlight" id="id-10"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 仓库管理 创建dockerhub账号:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 修改镜像之后保存镜像: </span>
</span></span><span class="line"><span class="cl">docker commit b573392cad1a mysql:5.7
</span></span><span class="line"><span class="cl"><span class="c1"># 修改镜像标签: </span>
</span></span><span class="line"><span class="cl">docker tag mysql:5.7 bigox/mysql:5.7
</span></span><span class="line"><span class="cl"><span class="c1"># 登录docker: </span>
</span></span><span class="line"><span class="cl">docker login
</span></span><span class="line"><span class="cl"><span class="c1"># 推送镜像:</span>
</span></span><span class="line"><span class="cl">docker push bigox/mysql:5.7</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="常用docker命令" class="heading-element">
  <a href="#%e5%b8%b8%e7%94%a8docker%e5%91%bd%e4%bb%a4" class="heading-mark"></a>常用docker命令</h3><p><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20240513142833.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20240513142833.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20240513142833.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20240513142833.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20240513142833.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/20240513142833.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></p>
<h4 id="docker容器信息" class="heading-element">
  <a href="#docker%e5%ae%b9%e5%99%a8%e4%bf%a1%e6%81%af" class="heading-mark"></a>docker容器信息</h4><div class="highlight" id="id-11"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">##查看docker容器版本</span>
</span></span><span class="line"><span class="cl">docker version
</span></span><span class="line"><span class="cl"><span class="c1">##查看docker容器信息</span>
</span></span><span class="line"><span class="cl">docker info
</span></span><span class="line"><span class="cl"><span class="c1">##查看docker容器帮助 记不住docker命令可以经常使用docker --help查看</span>
</span></span><span class="line"><span class="cl">docker --help</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="镜像的操作" class="heading-element">
  <a href="#%e9%95%9c%e5%83%8f%e7%9a%84%e6%93%8d%e4%bd%9c" class="heading-mark"></a>镜像的操作</h4><blockquote>
<p>对镜像的操作，可使用镜像名、镜像长ID或短ID</p>
</blockquote>
<div class="highlight" id="id-12"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">### 镜像查看</span>
</span></span><span class="line"><span class="cl">docker image list
</span></span><span class="line"><span class="cl"><span class="c1">##只显示镜像ID</span>
</span></span><span class="line"><span class="cl">docker images -q
</span></span><span class="line"><span class="cl"><span class="c1">##含中间映像层</span>
</span></span><span class="line"><span class="cl">docker images -qa   
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">### 镜像搜索</span>
</span></span><span class="line"><span class="cl">docker search mysql
</span></span><span class="line"><span class="cl"><span class="c1"># 镜像下载</span>
</span></span><span class="line"><span class="cl">docker pull redis
</span></span><span class="line"><span class="cl"><span class="c1"># 下载仓库里的所有redis镜像</span>
</span></span><span class="line"><span class="cl">docker pull -a redis
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 镜像删除</span>
</span></span><span class="line"><span class="cl">docker rmi redis
</span></span><span class="line"><span class="cl">docker rmi -f redis
</span></span><span class="line"><span class="cl"><span class="c1"># 删除多个镜像</span>
</span></span><span class="line"><span class="cl">docker rmi -f redis tomcat nginx
</span></span><span class="line"><span class="cl"><span class="c1"># 删除本地多个镜像</span>
</span></span><span class="line"><span class="cl">docker rmi -f <span class="k">$(</span>docker images -q<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 构建镜像</span>
</span></span><span class="line"><span class="cl"><span class="c1">##（1）编写dockerfile</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /docker/dockerfile
</span></span><span class="line"><span class="cl">vim mycentos
</span></span><span class="line"><span class="cl"><span class="c1">##（2）构建docker镜像</span>
</span></span><span class="line"><span class="cl">docker build -f /docker/dockerfile/mycentos -t mycentos:1.1</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="容器操作" class="heading-element">
  <a href="#%e5%ae%b9%e5%99%a8%e6%93%8d%e4%bd%9c" class="heading-mark"></a>容器操作</h3><div class="highlight" id="id-13"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 容器启动</span>
</span></span><span class="line"><span class="cl"><span class="c1">##新建并启动容器，参数：-i  以交互模式运行容器；-t  为容器重新分配一个伪输入终端；--name  为容器指定一个名称</span>
</span></span><span class="line"><span class="cl">docker run -i -t --name mycentos
</span></span><span class="line"><span class="cl"><span class="c1">##后台启动容器，参数：-d  已守护方式启动容器</span>
</span></span><span class="line"><span class="cl">docker run -d mycentos
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 查看容器</span>
</span></span><span class="line"><span class="cl"><span class="c1">##查看正在运行的容器</span>
</span></span><span class="line"><span class="cl">docker ps
</span></span><span class="line"><span class="cl"><span class="c1">##查看正在运行的容器的ID</span>
</span></span><span class="line"><span class="cl">docker ps -q
</span></span><span class="line"><span class="cl"><span class="c1">##查看正在运行+历史运行过的容器</span>
</span></span><span class="line"><span class="cl">docker ps -a
</span></span><span class="line"><span class="cl"><span class="c1">##显示运行容器总文件大小</span>
</span></span><span class="line"><span class="cl">docker ps -s
</span></span><span class="line"><span class="cl"><span class="c1">##显示最近创建容器</span>
</span></span><span class="line"><span class="cl">docker ps -l
</span></span><span class="line"><span class="cl"><span class="c1">##显示最近创建的3个容器</span>
</span></span><span class="line"><span class="cl">docker ps -n <span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="c1">##不截断输出</span>
</span></span><span class="line"><span class="cl">docker ps --no-trunc 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 容器进程</span>
</span></span><span class="line"><span class="cl"><span class="c1">##列出redis容器中运行进程</span>
</span></span><span class="line"><span class="cl">docker top redis
</span></span><span class="line"><span class="cl"><span class="c1">##查看所有运行容器的进程信息</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> i in  <span class="sb">`</span>docker ps <span class="p">|</span>grep Up<span class="p">|</span>awk <span class="s1">&#39;{print $1}&#39;</span><span class="sb">`</span><span class="p">;</span><span class="k">do</span> <span class="nb">echo</span> <span class="se">\ </span><span class="o">&amp;&amp;</span>docker top <span class="nv">$i</span><span class="p">;</span> <span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 容器日志</span>
</span></span><span class="line"><span class="cl">docker logs rabitmq
</span></span><span class="line"><span class="cl"><span class="c1">##查看redis容器日志，参数：-f  跟踪日志输出；-t   显示时间戳；--tail  仅列出最新N条容器日志；</span>
</span></span><span class="line"><span class="cl">docker logs -f -t --tail<span class="o">=</span><span class="m">20</span> redis
</span></span><span class="line"><span class="cl"><span class="c1">##查看容器redis从2019年05月21日后的最新10条日志。</span>
</span></span><span class="line"><span class="cl">docker logs --since<span class="o">=</span><span class="s2">&#34;2019-05-21&#34;</span> --tail<span class="o">=</span><span class="m">10</span> redis
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 容器的进入和退出</span>
</span></span><span class="line"><span class="cl"><span class="c1">##使用run方式在创建时进入</span>
</span></span><span class="line"><span class="cl">docker run -it centos /bin/bash
</span></span><span class="line"><span class="cl"><span class="c1">##关闭容器并退出</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##直接进入centos 容器启动命令的终端，不会启动新进程，多个attach连接共享容器屏幕，参数：--sig-proxy=false  确保CTRL-D或CTRL-C不会关闭容器</span>
</span></span><span class="line"><span class="cl">docker attach --sig-proxy<span class="o">=</span><span class="nb">false</span> centos 
</span></span><span class="line"><span class="cl"><span class="c1">##在 centos 容器中打开新的交互模式终端，可以启动新进程，参数：-i  即使没有附加也保持STDIN 打开；-t  分配一个伪终端</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -i -t  centos /bin/bash
</span></span><span class="line"><span class="cl"><span class="c1">##以交互模式在容器中执行命令，结果返回到当前终端屏幕</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -i -t centos ls -l /tmp
</span></span><span class="line"><span class="cl"><span class="c1">##以分离模式在容器中执行命令，程序后台运行，结果不会反馈到当前终端</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -d centos  touch cache.txt 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 容器的停止和删除</span>
</span></span><span class="line"><span class="cl"><span class="c1">##停止一个运行中的容器</span>
</span></span><span class="line"><span class="cl">docker stop redis
</span></span><span class="line"><span class="cl"><span class="c1">##杀掉一个运行中的容器</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">kill</span> redis
</span></span><span class="line"><span class="cl"><span class="c1">##删除一个已停止的容器</span>
</span></span><span class="line"><span class="cl">docker rm redis
</span></span><span class="line"><span class="cl"><span class="c1">##删除一个运行中的容器</span>
</span></span><span class="line"><span class="cl">docker rm -f redis
</span></span><span class="line"><span class="cl"><span class="c1">##删除多个容器</span>
</span></span><span class="line"><span class="cl">docker rm -f <span class="k">$(</span>docker ps -a -q<span class="k">)</span>
</span></span><span class="line"><span class="cl">docker ps -a -q <span class="p">|</span> xargs docker rm
</span></span><span class="line"><span class="cl"><span class="c1">## -l 移除容器间的网络连接，连接名为 db</span>
</span></span><span class="line"><span class="cl">docker rm -l db 
</span></span><span class="line"><span class="cl"><span class="c1">## -v 删除容器，并删除容器挂载的数据卷</span>
</span></span><span class="line"><span class="cl">docker rm -v redis
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 容器和主机间的数据拷贝</span>
</span></span><span class="line"><span class="cl"><span class="c1">##将rabbitmq容器中的文件copy至本地路径</span>
</span></span><span class="line"><span class="cl">docker cp rabbitmq:/<span class="o">[</span>container_path<span class="o">]</span> <span class="o">[</span>local_path<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="c1">##将主机文件copy至rabbitmq容器</span>
</span></span><span class="line"><span class="cl">docker cp <span class="o">[</span>local_path<span class="o">]</span> rabbitmq:/<span class="o">[</span>container_path<span class="o">]</span>/
</span></span><span class="line"><span class="cl"><span class="c1">##将主机文件copy至rabbitmq容器，目录重命名为[container_path]（注意与非重命名copy的区别）</span>
</span></span><span class="line"><span class="cl">docker cp <span class="o">[</span>local_path<span class="o">]</span> rabbitmq:/<span class="o">[</span>container_path<span class="o">]</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>软考知识点</title>
  <link>https://ipfred.github.io/db/20240508165000/</link>
  <pubDate>Wed, 08 May 2024 16:50:00 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/db/20240508165000/</guid>
  <description><![CDATA[<p>[TOC]</p>
<h2 id="嵌入式sql" class="heading-element">
  <a href="#%e5%b5%8c%e5%85%a5%e5%bc%8fsql" class="heading-mark"></a>嵌入式SQL</h2><p>嵌入式SQL中通过主变量实现主语言和SQL语言间进行参数传递；
SQL语句的执行状态通过sqlca，传递给主语言来进行流程控制；
对于返回结果为多条记录的sql语句，通过游标来由主语言逐条处理。</p>
<p>执行类型分析和检查：分析程序的类型系统，并检查程序是否违反类型规则(程序中变量和表达式的类型)，</p>
<p>编译的过程：</p>
<ul>
<li>词法分析，将源代码分解为由单词组成的符号流的过程。</li>
<li>语法分析，语法分析，根据语法规则检查符号流的正确性，并生成语法树的过程</li>
<li>语义分析，检查程序的语义是否正确，并进行类型检查，是否符合语言规范</li>
<li>中间代码生成，根据语法树生成中间代码的过程，中间代码是一种抽象的机器代码与目标机器无关。</li>
</ul>
<p>DFA能识别什么？
![[asserts/Pasted image 20240515104903.png]]</p>
<p>主存主要采用动态随机存储器DRAM
Cache采用静态随机存储器SRAM
EEPROM是电擦除可编程的只读存储器</p>
<p>![[asserts/Pasted image 20240515105946.png]]</p>
<p>入侵检测技术
海明码
系统页面大小为</p>
<h3 id="虚拟内存" class="heading-element">
  <a href="#%e8%99%9a%e6%8b%9f%e5%86%85%e5%ad%98" class="heading-mark"></a>虚拟内存</h3><p>逻辑地址为 0001110100010110
逻辑地址内存分两部分：虚拟页号+页内偏移</p>
<ul>
<li>虚拟页号：虚拟页号逻辑地址的最高位部分</li>
<li>页内偏移：逻辑地址的低位部分,<br>
先根据页大小计算 页内地址长度需要多少位来表示
页大小为4K 4*2^10=2^12    低12位为页内偏移，页内地址 剩下的为页号
![[asserts/Pasted image 20240522125000.png]]</li>
</ul>
<h3 id="进程管理" class="heading-element">
  <a href="#%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86" class="heading-mark"></a>进程管理</h3><h3 id="数据结和算法" class="heading-element">
  <a href="#%e6%95%b0%e6%8d%ae%e7%bb%93%e5%92%8c%e7%ae%97%e6%b3%95" class="heading-mark"></a>数据结和算法</h3><ul>
<li>广义表的长度：广义表中原子或子表的数量，
<ul>
<li>广义表 {{a,b,c}} 中只有一个子表 {a,b,c}，因此它的长度为 1。</li>
<li>{a,{b,c,d}} 中，它包含一个原子和一个子表，因此该广义表的长度为 2</li>
</ul>
</li>
<li>广义表的深度：观察表中所包含括号的层数间接得到</li>
</ul>
<h4 id="二叉树" class="heading-element">
  <a href="#%e4%ba%8c%e5%8f%89%e6%a0%91" class="heading-mark"></a>二叉树</h4><ul>
<li>堆： 通常是完全二叉树
<ul>
<li>最大堆：父节点的值比子节点要大</li>
<li>最小堆：父节点的值比子节点小
总结点 = 度为0 + 度为1 + 度为2(叶子节点-1)
叶子节点度为0</li>
</ul>
</li>
</ul>
<p>在二叉树中，总结点的数量等于度为0的结点数加度为1的结点数加度为2的结点数。已知二叉树中有70个叶子结点和80个度为1的结点，由于叶子结点的度数为0，度为2的结点数等于叶子结点数减1，即个。</p>
<h4 id="排序" class="heading-element">
  <a href="#%e6%8e%92%e5%ba%8f" class="heading-mark"></a>排序</h4><p>![[asserts/Pasted image 20240522134301.png]]</p>
<h3 id="数据库" class="heading-element">
  <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93" class="heading-mark"></a>数据库</h3><h4 id="数据库设计" class="heading-element">
  <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e8%ae%be%e8%ae%a1" class="heading-mark"></a>数据库设计</h4><p>![[asserts/Pasted image 20240522141345.png]]
模式：数据库的逻辑结构和数据组织方式
外模式：数据库系统的最外层，用户与数据库系统交互的接口，不同的用户或应用程序可以有不同的外模式。
内模式：数据库系统的最内层，描述了数据在物理介质上的存储结构和存取方法</p>
<ul>
<li>数据在磁盘上的存储结构</li>
<li>存储记录的格式和排列</li>
<li>索引，数据压缩等技术
数据的独立性：
<ul>
<li>物理独立性：数据库的内模式发生改变时，数据的逻辑结构不变</li>
<li>数据独立性：外模式和模式之间的映射
数据的独立性是由DBMS的二级映像功能来保证的。数据的独立性包括数据的物理独立性和数据的逻辑独立性。数据的物理独立性是指当数据库的内模式发生改变时，数据的逻辑结构不变。为了保证应用程序能够正确执行，需要通过修改概念模式/内模式之间的映像。数据的逻辑独立性是指用户的应用程序与数据库的逻辑结构是相互独立的。数据的逻辑结构发生变化后，用户程序也可以不修改。但是，为了保证应用程序能够正确执行，需要修改外模式/概念模式之间的映像。</li>
</ul>
</li>
</ul>
<h3 id="关系泛式" class="heading-element">
  <a href="#%e5%85%b3%e7%b3%bb%e6%b3%9b%e5%bc%8f" class="heading-mark"></a>关系泛式</h3><h4 id="几种泛式" class="heading-element">
  <a href="#%e5%87%a0%e7%a7%8d%e6%b3%9b%e5%bc%8f" class="heading-mark"></a>几种泛式</h4><table>
<thead>
<tr>
<th>泛式</th>
<th>概念</th>
<th>判断方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>1NF</td>
<td>每一个属性都是不可分割的原子值</td>
<td>每一个字段仅包含一个值<br>每一列都是原子的，不能包含子表或数组</td>
</tr>
<tr>
<td>2NF</td>
<td>每一个非主属性完全依赖于主键(消除部分依赖)</td>
<td>- 满足1NF<br>- 非主属性完全依赖与整个主键，而不是主键的一部分<br>- 若存在部分依赖(某些非主属性依赖主键的一部分) 分解为更小的表</td>
</tr>
<tr>
<td>3NF</td>
<td>不存在非主属性对候选码的传递依赖</td>
<td>满足2NF<br>没有非主属性通过另一个非主属性，间接依赖主键<br>存在传递依赖，则需要将其分解我更小的表</td>
</tr>
<tr>
<td>BCNF</td>
<td>没有传递依赖和部分依赖，</td>
<td>每一个属性（或属性组合）若能决定其他属性，则该属性（或属性组合）是候选键</td>
</tr>
<tr>
<td>4NF</td>
<td>没有多值依赖</td>
<td>满足3NF<br>确保关系中没有多值依赖（即一个属性集的值集合与另一个属性集的值集合相互独立）</td>
</tr>
</tbody>
</table>
<ol>
<li><strong>1NF</strong>：消除重复组，确保每个属性值是原子的。</li>
<li><strong>2NF</strong>：在1NF的基础上，消除部分依赖，确保每个非主属性完全依赖于主键。</li>
<li><strong>3NF</strong>：在2NF的基础上，消除传递依赖，确保每个非主属性直接依赖于主键。</li>
<li><strong>BCNF</strong>：在3NF的基础上，消除非候选键的决定因素，确保每个决定因素都是候选键。</li>
<li><strong>4NF</strong>：在BCNF的基础上，消除多值依赖，确保没有多值依赖。</li>
</ol>
<h4 id="关系代数" class="heading-element">
  <a href="#%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0" class="heading-mark"></a>关系代数</h4><ol>
<li><strong>选择（Selection, σ）</strong>：从关系中选出满足特定条件的元组。
<ul>
<li>记号：σ<sub>条件</sub>(关系)</li>
<li>示例：σ<sub>age &gt; 30</sub>(Employees)</li>
</ul>
</li>
<li><strong>投影（Projection, π）</strong>：从关系中选出特定的属性列，去除重复的元组。
<ul>
<li>记号：π<sub>属性列表</sub>(关系)</li>
<li>示例：π<sub>name, age</sub>(Employees)</li>
</ul>
</li>
<li><strong>并（Union, ∪）</strong>：合并两个关系，包含所有在两个关系中的元组，去除重复。
<ul>
<li>记号：R ∪ S</li>
</ul>
</li>
<li><strong>差（Difference, −）</strong>：获取属于第一个关系但不属于第二个关系的元组。
<ul>
<li>记号：R − S</li>
</ul>
</li>
<li><strong>笛卡尔积（Cartesian Product, ×）</strong>：将两个关系中的每一个元组合并形成一个新的元组。
<ul>
<li>记号：R × S</li>
</ul>
</li>
<li><strong>连接（Join, ⨝）</strong>：根据特定条件将两个关系中的元组合并形成一个新的元组。
<ul>
<li>记号：R ⨝<sub>条件</sub> S</li>
</ul>
</li>
<li><strong>自然连接（Natural Join, ⨝）</strong>：在两个关系中查找相同属性名的列，并自动进行连接。
<ul>
<li>记号：R ⨝ S</li>
</ul>
</li>
<li><strong>除（Division, ÷）</strong>：在关系中查找那些在另一个关系中的所有元组都有匹配的元组。
<ul>
<li>记号：R ÷ S</li>
</ul>
</li>
</ol>
<h4 id="关系元组演算" class="heading-element">
  <a href="#%e5%85%b3%e7%b3%bb%e5%85%83%e7%bb%84%e6%bc%94%e7%ae%97" class="heading-mark"></a>关系元组演算</h4><p>常用的查询语言：域关系演算 元祖关系演算，关系代数
公式和符号的意思：</p>
<ul>
<li><strong>元组变量</strong>表示关系中的元组 如<code>T ∈ R</code>表示元组<code>T</code>属于关系<code>R</code>，<code>T.A = T.B</code>表示元组<code>T</code>的属性<code>A</code>等于属性<code>B</code>。</li>
<li>逻辑运算符 ∧(和)、∨或、¬ 非</li>
<li><strong>绑定变量</strong> 在公式中被量词绑定的变量  比如，<code>∃T (T ∈ R ∧ T.A = 5)</code>中，<code>T</code>是绑定变量。</li>
<li>示例</li>
</ul>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 查询年龄大于30的员工的名称和年龄</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span> <span class="n">T</span> <span class="o">|</span> <span class="n">T</span> <span class="err">∈</span> <span class="n">Employee</span> <span class="err">∧</span> <span class="n">T</span><span class="o">.</span><span class="n">Age</span> <span class="o">&gt;</span> <span class="mi">30</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">**</span><span class="n">查询工资高于50000的员工的名字</span><span class="o">**</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span> <span class="n">T</span><span class="o">.</span><span class="n">Name</span> <span class="o">|</span> <span class="err">∃</span><span class="n">T</span> <span class="p">(</span><span class="n">T</span> <span class="err">∈</span> <span class="n">Employee</span> <span class="err">∧</span> <span class="n">T</span><span class="o">.</span><span class="n">Salary</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># </span></span></span></code></pre></td></tr></table>
</div>
</div><p>域关系演算</p>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="err">一个关系</span><span class="o">`</span><span class="n">Employee</span><span class="p">(</span><span class="n">EID</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">Salary</span><span class="p">)</span><span class="o">`</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 查询年龄大于30的员工的名称和年龄
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">{</span><span class="w"> </span><span class="o">&lt;</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="o">&gt;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">∃</span><span class="n">e</span><span class="w"> </span><span class="err">∃</span><span class="n">s</span><span class="w"> </span><span class="p">(</span><span class="n">Employee</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="err">∧</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="err">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="分布式系统" class="heading-element">
  <a href="#%e5%88%86%e5%b8%83%e5%bc%8f%e7%b3%bb%e7%bb%9f" class="heading-mark"></a>分布式系统</h3><p>CAP分布式系统的基本原理代表三个关键属性：一致性（Consistency）、可用性（Availability）和分区容忍性（Partition Tolerance）</p>
<p>五个答题考点：</p>
<ul>
<li>数据库概念结构设计</li>
<li>关系理论 泛式和主键候选键 函数依赖 三泛式 四泛式 泛式分解</li>
<li>SQL相关</li>
<li>事务的概念、锁死、并发</li>
<li>数据备份和故障恢复 数据库日志文件</li>
</ul>
<h3 id="信息安全" class="heading-element">
  <a href="#%e4%bf%a1%e6%81%af%e5%ae%89%e5%85%a8" class="heading-mark"></a>信息安全</h3><ul>
<li>主动攻击
<ul>
<li>攻击者干扰系统或网络的正常运行，通过修改、破坏或伪造数据，获取未授权的访问权限或恶意操作</li>
<li>拒绝服务攻击 DDOS DOS: 攻击者通过发送大量请求，消耗系统资源，使系统无法正常提供服务</li>
<li>中间人攻击MITM:</li>
<li>sql注入</li>
<li>钓鱼攻击</li>
</ul>
</li>
<li>被动攻击
<ul>
<li>不干扰系统的正常运行，隐蔽性，无破坏性，信息收集</li>
<li>流量分析，窃听，被动扫描
中国自主研发的3G通信标准是 TD-SCDMA</li>
</ul>
</li>
</ul>
<p>宏病毒一般感染 doc 为扩展名的文件</p>
<p>数字信封技术：</p>
<ul>
<li>生成对称密钥</li>
<li>数据加密</li>
<li>对称密钥加密</li>
<li>传输加密数据和加密密钥</li>
<li>对称密钥解密</li>
<li>数据解密
计算机病毒：
<ul>
<li>文件型病毒 感染可执行文件</li>
<li>引导型病毒 影响软盘或硬盘的引导扇区</li>
<li>目录型病毒 修改硬盘上的所有文件的地址</li>
<li>宏病毒 使用某些程序创建出来的文本文档，数据库，电子表格等文件
防火墙的工作层次：</li>
</ul>
</li>
<li>工作层次高，效率低，安全性高</li>
<li>受保护程度：从高到低 内网 DMZ 外网</li>
</ul>
<h3 id="项目管理" class="heading-element">
  <a href="#%e9%a1%b9%e7%9b%ae%e7%ae%a1%e7%90%86" class="heading-mark"></a>项目管理</h3><p>无主程序员组：适合开发小型项目 创新型项目， 确定性比较小的项目
ISO软件质量模型：
软件质量的6大特性：功能性、可靠性、易用性、效率、维护性、可移植性<br>
软件质量的27个子特性：<br>
功能性：适合性、准确性、互操作性、安全性、功能性的依从性<br>
可靠性：成熟性、容错性、可恢复性、可靠性的依从性<br>
易用性：易理解、易学习、易操作、吸引性、可使用性的依从性<br>
效率：时间特性、资源特性、效率的依从性<br>
维护性：易分析性、稳定性、易变更性、易测试性、可维护性的依从性<br>
可移植性：适应性、易安装型、遵循性易替换性、可移植性的依从性</p>
<p>RUP：统一软件开发过程</p>
<ul>
<li>角色、活动、制品和工作流4种重要的模型元素
统一过程模型：</li>
<li>关键特点：迭代和增量开发 基于用例的需求驱动 架构驱动 风险驱动</li>
<li>阶段
<ul>
<li>初始阶段</li>
<li>细化阶段</li>
<li>构建阶段</li>
<li>移交阶段</li>
</ul>
</li>
</ul>
<p>传统工程模型：</p>
<ul>
<li><strong>瀑布模型</strong>是最早出现的过程模型，它将软件生存周期的各项活动规定为按固定顺序而连接的若干阶段工作，形如瀑布流水，最终得到软件产品，主要的阶段包括需求分析、系统设计、详细设计、编码、单元测试、集成测试、系统测试、系统提交等。</li>
<li>v模型是对瀑布模型的一种改进模型，由于其模型构图形似字母v，所以又称为软件测试的V模型。V模型中，<strong>增加了测试环节的回溯验证</strong>，一般情况下，单元测试所对应的是详细设计环节；集成测试对应概要设计环节；系统测试对应需求分析环节；验收测试对应用户原始需求。</li>
<li><strong>原型化模型</strong>:。原型化模型首先是建造一个快速原型，在充分了解和确认后，在原型基础上开发出用户满意的产品。</li>
<li>螺旋模型是一种<strong>演化软件开发过程模型</strong>，它兼顾了快速原型的迭代的特征以及瀑布模型的系统化与严格监控。螺旋模型最大的特点在于引入了<strong>其他模型不具备的风险分析</strong>，使软件在无法排除重大风险时有机会停止，以减小损失。同时，在每个迭代阶段构建原型是螺旋模型用以减小风险的途径。</li>
<li>增量模型：把软件产品作为一系列的增量构建来设计，编码，集成和测试，可以在增量开发过程中逐步理解需求</li>
</ul>
<p>软件设计：</p>
<ul>
<li>概要设计阶段</li>
<li>详细设计阶段
结构化设计方法：</li>
<li>概要设计阶段：软件体系结构的设计，数据设计和接口设计</li>
<li>详细设计阶段：数据结构和算法的设计
面相对象的设计方法：</li>
<li>概要设计阶段：体系结构设计，初步的类设计、数据设计，结构设计</li>
<li>详细设计阶段：构件设计</li>
</ul>
<p>数据流图：</p>
<ul>
<li>建模的时候应遵循自顶向下，从抽象到具体的建模思想。</li>
<li>描述数据的处理流程</li>
<li>底层数据流图描述了系统的输入输出</li>
<li>加工描述了数据流的转换</li>
</ul>
<p>软件工程方法：进行软件开发，涉及到<strong>方法、工具和过程</strong>等要素。
项目风险：风险的优先级根据<strong>风险暴露</strong> 指标来表示，=风险影响(当风险发生时造成的损失) * 风险概率(风险发生的可能性)</p>
<ul>
<li>项目风险：预算，进度，人员资源以及客户相关的问题</li>
<li>技术风险：设计，实现，对接，测试和维护未提</li>
<li>业务风险：建立一个无人想要的优秀产品风险，失去预算，人员承诺的风险</li>
<li>商业风险：市场风险，策略风险，管理风险和预算风险</li>
</ul>
<p>UML图： 统一建模语言</p>
<ul>
<li>用例图 描述系统的功能需求以及系统与外部用户之间的交互</li>
<li>类图 描述系统中的类及其属性、方法和类之间的关系</li>
<li>对象图：描述系统在某一时刻的对象实例及其关系</li>
<li>序列图：描述对象之间的交互顺序，强调时间顺序</li>
<li>活动图：类似于流程图</li>
<li>状态图：描述对象状态变化以及时间如何导致状态的转换</li>
<li>组件图：描述系统 的物理组件以及相互关系</li>
<li>部署图：描述系统在物理硬件上的部署结构
<a href="https://boardmix.cn/article/uml-diagram-styles/"target="_blank" rel="external nofollow noopener noreferrer">干货！14种uml图类型及示例 (boardmix.cn)<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
</ul>
]]></description>
</item>
<item>
  <title>Vim使用技巧大全</title>
  <link>https://ipfred.github.io/posts/20240428183407/</link>
  <pubDate>Sun, 28 Apr 2024 18:34:07 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/posts/20240428183407/</guid>
  <description><![CDATA[<p>0 行首
$ 行尾
i 当前游标插入
A 行尾追加</p>
<p>d2w 删除两个单词</p>
<p>dd 删除一行
2dd 删除两行</p>
<p>u撤销
ctrl+r 重新执行</p>
<p>put</p>
<p>ce 删除单词并修改
cc 删除某行并修改
c$ 删除到行为并修改
c0 删除到行首并修改</p>
<p>%快速找成对的括号</p>
<p>:s/thee/the/g 将一行的thee替换为 the</p>
]]></description>
</item>
<item>
  <title>Java核心基础</title>
  <link>https://ipfred.github.io/lang/java/20240426133928/</link>
  <pubDate>Fri, 26 Apr 2024 13:39:28 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/lang/java/20240426133928/</guid>
  <description><![CDATA[<h1 id="2-java核心基础" class="heading-element">
  <a href="#2-java%e6%a0%b8%e5%bf%83%e5%9f%ba%e7%a1%80" class="heading-mark"></a>2 Java核心基础</h1><blockquote>
<p>我想和自己说：学习是反复的过程，学习新知识的时候要仔仔细细阅读，错过一个关键词，可能对知识就会有偏差的理解。如果现在没有心情，收藏起来，后面用到的时候再仔细看。希望有帮助。</p>
</blockquote>
<h2 id="20-基本概念先了解" class="heading-element">
  <a href="#20-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5%e5%85%88%e4%ba%86%e8%a7%a3" class="heading-mark"></a>2.0 基本概念先了解</h2><h3 id="类" class="heading-element">
  <a href="#%e7%b1%bb" class="heading-mark"></a>类</h3><ul>
<li>类是Java中的基本编程单元，用于描述对象的属性和行为。通过实例化类，可以创建对象</li>
<li>类是封装了数据和方法的结构</li>
<li>Java中，类概念非常核心和基础，用于组织和构建整个程序。</li>
<li>类名和文件名是一致的(后面讲class关键词的时候会细聊)</li>
</ul>
<h3 id="接口" class="heading-element">
  <a href="#%e6%8e%a5%e5%8f%a3" class="heading-mark"></a>接口</h3><ul>
<li>接口是一种抽象的类型，它定义了一组方法的签名，但不提供方法的具体实现。
在后面写面向对象章节的时候，会对类和接口进行详解。</li>
</ul>
<h3 id="变量" class="heading-element">
  <a href="#%e5%8f%98%e9%87%8f" class="heading-mark"></a>变量</h3><ul>
<li>在程序执行过程中，值可以在某个范围内发生改变的量。</li>
<li>变量要明确保存数据的数据类型</li>
</ul>
<h3 id="包" class="heading-element">
  <a href="#%e5%8c%85" class="heading-mark"></a>包</h3><ul>
<li>将相关的类和接口组织在一起，一个包下面可以创建很多类文件和接口文件。直接引用功能包，可能节省代码量。</li>
</ul>
<h3 id="常量" class="heading-element">
  <a href="#%e5%b8%b8%e9%87%8f" class="heading-mark"></a>常量</h3><ul>
<li>在程序执行过程中，值不发生改变的量。</li>
</ul>
<h2 id="21-注释" class="heading-element">
  <a href="#21-%e6%b3%a8%e9%87%8a" class="heading-mark"></a>2.1 注释</h2><p>什么是注释，就是对程序进行解释和说明的文字</p>
<ul>
<li>单行注释
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="o">//</span><span class="n">单行注释</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>多行注释</li>
</ul>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">	</span><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">	多行注释
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>文档注释</li>
</ul>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 这是一个文档注释示例
</span></span></span><span class="line"><span class="cl"><span class="cm"> * 它通常包含有关类、方法或字段的详细信息
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 类的成员和方法</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="22-关键字" class="heading-element">
  <a href="#22-%e5%85%b3%e9%94%ae%e5%ad%97" class="heading-mark"></a>2.2 关键字</h2><p>被Java语言赋予了特殊含义的单词，在idea中会高亮显示，学习完基础知识后，可以再回过头 看看，对每个关键字的用法要熟悉，不然就是没入门
关键字官方文档 <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html"target="_blank" rel="external nofollow noopener noreferrer">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<ul>
<li>
<p>用于定义数据类型的关键字</p>
<ul>
<li><strong>class</strong> 类的标识 <code>class HelloWorld {}</code>, class是Java程序的基本构建块，它包含了数据和方法(死记就行)。Java文件名必须和类名保持一致，为了编译时能够正确识别和定位类(规定，死记就行); 如果一个文件中包含多个类，<code>只能有一个类声明为 public</code>，并且文件名必须与public类一致</li>
</ul>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">// 主类 文件名必须是 MyClass.java，程序入口点所在的类，必须要用public修饰，为了执行程序的时候，能够被jvm虚拟机访问到</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">// 入口点</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">AnotherClass</span><span class="w"> </span><span class="p">{</span><span class="c1">// 非公共类，在同一个文件中可以有多个}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">YetAnotherClass</span><span class="w"> </span><span class="p">{</span><span class="o">//</span><span class="w"> </span><span class="n">非公共类</span><span class="err">，</span><span class="n">建议每个类都存储在独立的文件中</span><span class="err">，</span><span class="n">提高代码可读性</span><span class="err">，</span><span class="n">如果有多个相关的类</span><span class="err">，</span><span class="n">放在同一个包内</span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>interface</strong> 接口的标识 <code>interface MyInterface {}</code></li>
<li><strong>enum</strong> 枚举 <code>enum Day { SUNDAY, MONDAY, TUESDAY }</code></li>
<li><strong>byte、short、int、long、float、double、char、boolean</strong>(八大基本数据类型)</li>
<li><strong>void</strong> 声明方法没有返回值</li>
</ul>
</li>
<li>
<p>流程控制关键字</p>
<ul>
<li>if else switch case default while do for break continue return</li>
</ul>
</li>
<li>
<p>包的关键字</p>
<ul>
<li><code>package</code>：将相关的<strong>类和接口</strong>组织在一起，一个包下面可以创建很多类文件和接口文件，在Java代码中 声明包 <code>package com.example.myapp</code> 包名通常是反转的域名，看到包就知道是什么功能</li>
<li><code>import</code> 导包，引入其他包中的类 <code>import com.otherpackage.OtherClass</code></li>
</ul>
</li>
<li>
<p>访问权限修饰符关键字</p>
<blockquote>
<p>访问控制权限在Java中为了管理类，方法，变量等成员在其他类中的可见性和访问权限。有利于控制代码的封装性，安全性和可维护性</p>
</blockquote>
<ul>
<li><code>private</code> 私有的 成员只对声明它的类可见，其他类无法访问</li>
<li><code>protected</code> 受保护访问 <code>同一包内的类和所有子类可见</code></li>
<li><code>public</code>: 成员对所有类可见，其他类可以自由访问</li>
<li><em>扩展：default（package-private）默认访问级别，没有修饰符，成员对统一包内的类可见</em></li>
</ul>
</li>
<li>
<p>类，函数，变量修饰符关键字</p>
<ul>
<li><code>abstract</code>用于声明抽象类、抽象方法。抽象类不能被实例化，通常包含抽象方法，子类需要实现这些抽象方法。</li>
</ul>
<blockquote>
<p>什么是抽象类和抽象方法</p>
</blockquote>
<ul>
<li><code>final</code> 用于声明不可被继承的类 <code>final class FinalClass{}</code>;声明不可被重写的方法 <code>final void finalMethod() {}</code>;声明不可被修改的变量 <code>final int constantValue = 10;</code></li>
<li><code>static</code>表名具有静态属性。</li>
</ul>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">// 静态字段属于类，所有类的实例共享相同的静态字段。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// 通过类名直接访问</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">class</span> <span class="nc">Myclass</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">staticField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">// 静态方法属于类，不用创建实例，通过类名直接访问</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">staticMethod</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="c1">// 静态块 用于类加载时执行一些初始化操作</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">	</span><span class="kd">static</span><span class="w"> </span><span class="p">{</span><span class="c1">// 静态块}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>synchronized</code> 修饰方法或代码块，确保同一时刻只有同一个线程可以访问修饰的部分</li>
</ul>
</li>
<li>
<p>类与类之间关系关键字</p>
<ul>
<li><code>extends</code>：用于类之间的继承关系</li>
<li><code>implements</code>：接口的实现</li>
</ul>
</li>
<li>
<p>实例相关关键字</p>
<ul>
<li>new 创建对象实例 <code>ClassName obj = new ClassName();</code></li>
<li>this：代表当前对象的引用，在类的方法中使用 <code>this.variable</code>指的是当前对象的成员变量</li>
<li>super：用于调用父类的方法或访问父类的成员</li>
<li>instanceof：用于检查对象是否是特定类的实例 <code>if (obj instanceof ClassName)</code></li>
</ul>
</li>
<li>
<p>异常处理关键字</p>
<ul>
<li>try、catch、finally、throw、throws</li>
</ul>
</li>
<li>
<p>其他修饰符关键字</p>
<ul>
<li>native strictfp transient volatile</li>
<li>assert：断言检查 <code>assert age &gt;= 18 : &quot;必须年满18岁&quot;;</code></li>
</ul>
</li>
</ul>
<h2 id="23-标识符" class="heading-element">
  <a href="#23-%e6%a0%87%e8%af%86%e7%ac%a6" class="heading-mark"></a>2.3 标识符</h2><p>标识符就是用来给类，接口，方法，变量，包等其名字的规则</p>
<ul>
<li><code>类、接口</code> : 大驼峰命名法,第一个单词大写的是类\接口 <code>HelloWorld, VariableDemo</code></li>
<li><code>变量, 方法</code>: 小驼峰命名法 第一个单词小写的是方法和变量 <code>zhangSanAge, studentName</code></li>
<li><code>常量</code>：所有字母都大写</li>
<li><code>包</code>：所有字母全部都小写 <code>com.baidu</code></li>
</ul>
<h2 id="24-数据类型" class="heading-element">
  <a href="#24-%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b" class="heading-mark"></a>2.4 数据类型</h2><p>Java是强类型语言，每一个数据都给出了明确的数据类型</p>
<ul>
<li>
<p>基本数据类型(简称: 基本类型)</p>
<ul>
<li>byte, short, char, int, long, float, double, boolean</li>
<li>定义long类型的数据时, 数据后边要加字母L(大小写均可), 建议加L</li>
<li>定义float类型的数据时, 数据后边要加字母F(大小写均可), 建议加F</li>
</ul>
</li>
<li>
<p>引用数据类型(简称: 引用类型)
- String, 数组, 类, 接口</p>
</li>
<li>
<p>数据类型转换
不同类型的数据之间可能会进行运算，而这些数据取值范围不同，存储方式不同，直接进行运算可能会造成数据损失，所以需要类型转换</p>
<ul>
<li>自动(隐式)类型转换 将取值范围小的类型自动提升为取值范围大的类型，<code>byte、short、char--&gt;int--&gt;long--&gt;float--&gt;double</code></li>
<li>强制(显式)类型转换 将取值范围大的类型强制转换成取值范围小的类型.</li>
</ul>
</li>
</ul>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">doubleValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">123</span><span class="p">.</span><span class="na">456</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">intValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">doubleValue</span><span class="p">;</span><span class="w"> </span><span class="c1">// 强制将double转换为int</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;原始double值：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">doubleValue</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;强制转换后的int值：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">intValue</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="cm">/*原始double值：123.456
</span></span></span><span class="line"><span class="cl"><span class="cm">		强制转换后的int值：123 */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="25-常量" class="heading-element">
  <a href="#25-%e5%b8%b8%e9%87%8f" class="heading-mark"></a>2.5 常量</h2><ul>
<li>整数常量 <code>1</code></li>
<li>小数常量 <code>3.14</code></li>
<li>字符常量 <code>A</code> <code>B</code> <code>20</code>(20不是字符，是有两个字符组合成的)</li>
<li>字符串常量 <code>&quot;abcd&quot;</code></li>
<li>布尔常量 <code>true</code> <code>false</code></li>
<li>空常量 <code>null</code></li>
</ul>
<h2 id="26-变量" class="heading-element">
  <a href="#26-%e5%8f%98%e9%87%8f" class="heading-mark"></a>2.6 变量</h2><ul>
<li>在程序执行过程中，值可以在某个范围内发生改变的量叫变量</li>
<li>变量要有明确的数据类型</li>
<li>声明方式
<ul>
<li>数据类型 变量名=初始化的值; <code>int a=10;</code></li>
<li>先声明，再赋值 <code>int a; a=10;</code></li>
</ul>
</li>
</ul>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="c1">//1. 定义一个类, 类名叫: VariableDemo02</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">VariableDemo02</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//2. 定义main方法, 作为程序的主入口.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//3. 测试byte类型.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//3.1 定义一个byte类型的变量, 变量名叫b, 初始化值为10.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">byte</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//3.2 将变量b的值打印到控制台上.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//4. 测试short类型.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//4.1 定义一个short类型的变量, 变量名叫s, 初始化值为20.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">short</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">20</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//4.2 将变量s的值打印到控制台上.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//5. 测试char类型.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//5.1 定义一个char类型的变量, 变量名叫c, 初始化值为&#39;A&#39;.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;A&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//5.2 将变量c的值打印到控制台上.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">c</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//6. 测试int类型</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//7. 测试long类型, 数据后记得加字母L.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">long</span><span class="w"> </span><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">100L</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">lon</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//8. 测试float类型, 数据后边加字母F.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">.</span><span class="na">3F</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//9. 测试double类型.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">5</span><span class="p">.</span><span class="na">21</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">d</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//10. 测试boolean类型.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">bb</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="27-运算符" class="heading-element">
  <a href="#27-%e8%bf%90%e7%ae%97%e7%ac%a6" class="heading-mark"></a>2.7 运算符</h2><h3 id="271分类" class="heading-element">
  <a href="#271%e5%88%86%e7%b1%bb" class="heading-mark"></a>2.7.1分类</h3><ul>
<li>
<p>算术运算符</p>
<ul>
<li>+, -, *, /, %, ++, &ndash;</li>
<li>变量前++ ：变量a自己加1，将加1后的结果赋值给b <code>b=++a</code></li>
</ul>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">++</span><span class="n">a</span><span class="p">;</span><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//计算结果是2    </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="c1">//计算结果是2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>变量后++ ：变量a先把自己的值1，赋值给变量b</li>
</ul>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">++</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">a</span><span class="p">);</span><span class="c1">//计算结果是2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="c1">//计算结果是1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>赋值运算符</p>
<ul>
<li>=, +=, -=, *=, /=, %=</li>
</ul>
</li>
<li>
<p>比较(关系)运算符</p>
<ul>
<li>==, !=, &gt;, &gt;=, &lt;, &lt;=</li>
</ul>
</li>
<li>
<p>逻辑运算符</p>
<ul>
<li>&amp;&amp;(并且),</li>
<li>||(或者),</li>
<li>!(逻辑非),</li>
<li>^(逻辑异或) 异同的意思, 相同为false, 不同为true.</li>
</ul>
<div class="highlight" id="id-10"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">LogicalOperatorsExample</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 逻辑与运算符 (&amp;&amp;)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">condition2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 如果两个条件都为true，则结果为true，否则为false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">resultAnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">condition2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;逻辑与运算符 (&amp;&amp;) 结果：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resultAnd</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 逻辑或运算符 (||)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 如果至少一个条件为true，则结果为true，否则为false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">resultOr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">condition2</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;逻辑或运算符 (||) 结果：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resultOr</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 逻辑非运算符 (!)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// 如果条件为true，则结果为false；如果条件为false，则结果为true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">boolean</span><span class="w"> </span><span class="n">resultNot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">condition1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;逻辑非运算符 (!) 结果：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">resultNot</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>三元(三目)运算符</p>
<ul>
<li>(关系表达式) ? 表达式1：表达式2；</li>
<li>true执行1表达式，false执行2表达式</li>
</ul>
<div class="highlight" id="id-11"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">OperatorDemo04</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1. 定义两个int类型的变量a. b, 初始化值分别为10, 20</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">20</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//2. 通过三元运算符, 获取变量a和b的最大值.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//3. 将结果(最大值)打印到控制台上.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">max</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="28-流程控制" class="heading-element">
  <a href="#28-%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6" class="heading-mark"></a>2.8 流程控制</h2><h3 id="281-分支结构" class="heading-element">
  <a href="#281-%e5%88%86%e6%94%af%e7%bb%93%e6%9e%84" class="heading-mark"></a>2.8.1 分支结构</h3><p>如果我们想某些代码是在满足条件的情况下, 才能被执行, 此时就需要用到选择结构了, 选择结构也叫分支结构, 主要分为以下两种:</p>
<ul>
<li>if语句, 主要用于<code>范围的判断</code></li>
<li>switch.case语句, 主要用于<code>固定值</code>的判断.</li>
</ul>
<p>if分支</p>
<div class="highlight" id="id-12"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">IfExample</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;数字是正数&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">num</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;数字是负数&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;数字是零&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>switch分支</p>
<div class="highlight" id="id-13"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SwitchExample</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">dayOfWeek</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">3</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="n">dayName</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">dayOfWeek</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">1</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期一&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">2</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期二&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">3</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期三&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">4</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期四&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">5</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期五&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">6</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期六&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">7</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;星期日&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">dayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#34;无效的日期&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;今天是：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dayName</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>switch 分支 case穿透，在switch语句中，如果case的后面不写break，将出现case穿透现象，也就是不会在判断下一个case的值，直接向后运行，直到遇到break，或者整体switch结束。</p>
<div class="highlight" id="id-14"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Scanner</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SwitchDemo08</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Scanner</span><span class="w"> </span><span class="n">sc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;请录入一个月份: &#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sc</span><span class="p">.</span><span class="na">nextInt</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">12</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">1</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">2</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;冬季&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">3</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">4</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">5</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;春季&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">6</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">7</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">8</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;夏季&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">9</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">10</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="n">11</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;秋季&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;没有这样的日期&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="282-循环结构" class="heading-element">
  <a href="#282-%e5%be%aa%e7%8e%af%e7%bb%93%e6%9e%84" class="heading-mark"></a>2.8.2 循环结构</h3><p>for循环</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="n">初始化条件1</span><span class="p">;</span><span class="w"> </span><span class="n">判断条件2</span><span class="p">;</span><span class="w"> </span><span class="n">控制条件3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//循环体4;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>for循环求1-100之前偶数和</p>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ForDemo04</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//1. 定义变量sum, 用来记录数据和.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//2. 通过for循环, 依次获取到1 - 100之间的数字.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">100</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">//3. 判断当前遍历到的数字是否是偶数.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//4. 走到这里, 说明是偶数, 累加给变量sum.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">//5. 打印结果.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;1 - 100之间的偶数之和是: &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sum</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>while循环</p>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">初始化条件1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">while</span><span class="p">(</span><span class="n">判断条件2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//循环体3;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1">//控制条件4;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>例子</p>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">WhileDemo01</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Hello World!&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">i</span><span class="o">++</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>死循环：永远不结束的循环，循环的判断条件是true</p>
<ul>
<li><code>for(;;) { }</code></li>
<li><code>while(true){}</code></li>
<li><code>do {} while(true)</code></li>
</ul>
<p>循环跳转: <code>break continue</code></p>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ContinueExample</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// 如果i为偶数，跳过本次循环</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="k">continue</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="cm">/*if (i==3) {
</span></span></span><span class="line"><span class="cl"><span class="cm">            	break;
</span></span></span><span class="line"><span class="cl"><span class="cm">            }*/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;当前数字是：&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><p>嵌套循环打印99乘法表</p>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ForForDemo08</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">9</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">       </span><span class="c1">//外循环控制行</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">   </span><span class="c1">//内循环控制列</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">//1 * 3 = 3   2 * 3 = 6	 3 * 3 = 9</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; * &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34; = &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&#34;\t&#34;</span><span class="p">);</span><span class="w">     
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">();</span><span class="w">           </span><span class="c1">//内循环执行结束, 意味着一行打印完毕, 记得要换行.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>Java开发工具和前言</title>
  <link>https://ipfred.github.io/lang/java/20240426111354/</link>
  <pubDate>Fri, 26 Apr 2024 11:13:54 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/lang/java/20240426111354/</guid>
  <description><![CDATA[<blockquote>
<p>前言：以初学着的身份，准备在该平台整理点最近学习的知识，方便后续查看相关的技术点，有兴趣的可以一块交流学习。目标用最少的文字，理解最多的知识。不说废话，字字珠玑。</p>
</blockquote>
<h2 id="11-简介" class="heading-element">
  <a href="#11-%e7%ae%80%e4%bb%8b" class="heading-mark"></a>1 1.1 简介</h2><ul>
<li>强类型语言、开源、跨平台、多态、多线程、面向对象</li>
<li>完善的异常处理机制，大数据必备的语言</li>
<li>1995年出生，父亲 詹姆斯·高斯林(James Gosling)，2009年被Sun公司收购</li>
<li>兄弟版本
<ul>
<li>J2SE: 标准版, 也是其他两个版本的基础. 在JDK1.5的时候正式更名为: <strong>JavaSE</strong>.</li>
<li>J2ME: 小型版, 一般用来研发嵌入式程序. 已经被Android替代了. 在JDK1.5的时候正式更名为: <strong>JavaME</strong>.</li>
<li>J2EE: 企业版, 一般开发企业级互联网程序. 在JDK1.5的时候正式更名为: <strong>JavaEE</strong></li>
</ul>
</li>
</ul>
<h2 id="12-java环境搭建" class="heading-element">
  <a href="#12-java%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba" class="heading-mark"></a>2 1.2 Java环境搭建</h2><ul>
<li>
<p>JDK和JRE区别</p>
<ul>
<li><code>JRE</code>: Java运行时环境(Java Runtime Environment) <code>运行Java</code>的环境</li>
<li><code>JDK</code>: Java development kit Java开发工具包，包含<code>开发</code>工具和JRE</li>
<li><code>JVM</code>：Java虚拟机(Java Virtual Machine) 和，Java运行环境里要有JVM</li>
</ul>
</li>
<li>
<p>目录解释</p>
<ul>
<li>bin: 存放的是编译器和工具</li>
<li>db: 存数数据</li>
<li>include: 编译本地方法.</li>
<li>jre: Java运行时文件</li>
<li>lib: 存放类库文件</li>
<li>src.zip: 存放源代码的</li>
</ul>
<p><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/9d1b56c3518c4b8db6d074c71b574aa5.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a>对比这图片看能不能理解每个文件啥意思，不能理解，好好看看上面的介绍</p>
<blockquote>
<p>怎么安装和配置path，不同的系统自己动手搜搜吧</p>
</blockquote>
</li>
</ul>
<h2 id="13-程序的开发步骤" class="heading-element">
  <a href="#13-%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%bc%80%e5%8f%91%e6%ad%a5%e9%aa%a4" class="heading-mark"></a>3 1.3 程序的开发步骤</h2><p>Java这种静态语言的的开发步骤一般分为</p>
<ul>
<li><code>编写</code>：编写源代码，在后缀名为.java的源文件中编写，用idea开发工具</li>
<li><code>编译</code>:把源代码，编译成计算机能看懂的文件. <code>javacv执行</code>生成.class文件</li>
<li><code>执行</code>:让计算机运行指定的代码程序 <code>java</code> 运行</li>
</ul>
<p>直接整idea开发工具，来个hello world的例子</p>
<h2 id="14-idea开发工具" class="heading-element">
  <a href="#14-idea%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7" class="heading-mark"></a>4 1.4 idea开发工具</h2><ul>
<li>idea 下载地址 <a href="https://www.jetbrains.com/idea/"target="_blank" rel="external nofollow noopener noreferrer">https://www.jetbrains.com/idea/<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></li>
<li>激活方式 小程序 <code>码叔资源</code> 上找个激活码激活，或淘宝上买一个激活码</li>
<li>下载好后一路next安装，建议安装路径放D盘，软件是真大</li>
</ul>
<h2 id="15用idea开发一个helloworld" class="heading-element">
  <a href="#15%e7%94%a8idea%e5%bc%80%e5%8f%91%e4%b8%80%e4%b8%aahelloworld" class="heading-mark"></a>5 1.5用idea开发一个helloworld</h2><ul>
<li>
<p>新建一个空项目
<a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/4b98b6567b30487fb8a16303f0411966.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a>
效果如下
<a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/66175214d14a44fa919110a0cf17d192.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a>
我这一个空文件夹，怎么和Java关联起来呢，要和JDK关联上，才能用<code>写Java代码</code>是吧</p>
</li>
<li>
<p>打开刚刚新建的项目 有个 <code>项目结构</code>这个东西后面用到的挺多，配置</p>
<p><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/25652e557cac41d3b1725d6cf19b8b68.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a>
重点讲讲 project modules libraries的区别</p>
<ul>
<li>
<p><code>项目</code>：可以执行你刚刚创建那个空项目的名称，SDK(用Java还是什么开发),编译器输出路径</p>
</li>
<li>
<p><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/a53c22d423a84a7995a6701ae5bf583e.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
</li>
<li>
<p><code>模块</code>：我们新建一个day01的模块，后面可以在这个项目下新增day02 day03的模块，你也可以每天建一个Java项目。</p>
</li>
<li>
<p><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/1c9697beee63422d9b9acb10c80f527d.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
</li>
<li>
<p>建完之后项目下新增了一个day01的模块，可以在该模块下写代码了(真不容易)
<a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/09f85e9e011d4523a9f43de411039575.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/d4fe2d7e6a6541048d680f4651b4e91a.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
</li>
<li>
<p><code>删除模块</code> 删除模块只是这个项目中看不到该模块了，在文件夹中还是存在的</p>
</li>
<li>
<p><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/3d36a3df545e4c0eaac1feb28d8b497a.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
</li>
<li>
<p><code>依赖库</code> ：我这个项目想用第三方的包，咋个办，在这导入就行了，例如连接MySQL的包
<a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/085dd54b42154714b595f972f66eb177.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
</li>
</ul>
</li>
<li>
<p>搞了这么久，idea上写代码试下吧,day01模块下 src目录下新建一个 Java源代码文件,输入下面的代码
<a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/442cd31c4ccf497ca6450a921ebb490e.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/c9b96a220abd441aa0e4577f4bf7f651.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
</li>
</ul>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">HelloWorld</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;Hello World!&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>idea使用小tips，idea很强大，这代码太繁琐了不会写怎么办，idea会自动补全的
输入<code>main</code> 按tab键，main方法出来了，<code>sout</code> 按tab键 print语句出来了，更多idea的技巧有机会，单独出一篇文章</p>
</blockquote>
<ul>
<li>运行代码初体验,直接右键run(idea会先编译，然后执行)，终端中会打印出helloworld</li>
</ul>
<p><a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/dd626b911aa443948910d535babc55c9.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a>
<a class="lightgallery" href="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png?size=large" data-thumbnail="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png?size=small" data-sub-html="<h2>https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png</h2>"><img loading="lazy" src="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png" alt="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png" srcset="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png?size=small, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png?size=medium 1.5x, https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png?size=large 2x" data-title="https://raw.githubusercontent.com/ipfred/my_pics/main/picgo/2404/0d94c8d79feb4c4bb33c71d8a027df8e.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
]]></description>
</item>
<item>
  <title>hive常见的命令</title>
  <link>https://ipfred.github.io/bigdata/hive/20240424162208/</link>
  <pubDate>Wed, 24 Apr 2024 16:22:08 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/bigdata/hive/20240424162208/</guid>
  <description><![CDATA[<p><a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual"target="_blank" rel="external nofollow noopener noreferrer">Hive官方操作手册<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<h2 id="hive特性" class="heading-element">
  <a href="#hive%e7%89%b9%e6%80%a7" class="heading-mark"></a>1 Hive特性</h2><ol>
<li>hive基于Hadoop，将结构化数据映射为一张数据库表，提供类SQL查询功能</li>
<li>Hive<strong>元数据存储</strong>,通常存储在关系形数据库中，Hive中的元数据包括(表的名称，列，分区，是否为外部表等属性，数据所在的路径)</li>
<li>Hive支持MapReduce、Tez和Spark 三种计算引擎。</li>
<li><strong>数据格式</strong>。数据格式用户定义，根据三个属性：列分隔符（通常为空格、”\t”、”\x001″）、行分隔符（”\n”）以及读取文件数据的方法（Hive 中默认有三个文件格式 TextFile，SequenceFile 以及 RCFile）</li>
<li><strong>数据更新</strong>。不支持对数据的更新，使用更新可以借助Impala引擎+kudu数据格式</li>
<li><strong>索引</strong>。有hive版本支持建立索引，但是各种问题，不建议使用。</li>
<li>Hive中包含的<strong>数据模型</strong>，DB、Table，External Table，Partition，Bucket
<ul>
<li>db：在hdfs中表现为<code>hive.metastore.warehouse.dir</code>目录下一个文件夹。</li>
<li>table：在hdfs中表现所属db目录下一个文件夹。</li>
<li>external table：与table类似，不过其数据存放位置可以在任意指定路径。</li>
<li>partition：在hdfs中表现为table目录下的子目录。</li>
<li>bucket：在hdfs中表现为同一个表目录下根据hash散列之后的多个文件。</li>
</ul>
</li>
</ol>
<h2 id="hive表类型" class="heading-element">
  <a href="#hive%e8%a1%a8%e7%b1%bb%e5%9e%8b" class="heading-mark"></a>2 Hive表类型</h2><h3 id="hive数据类型" class="heading-element">
  <a href="#hive%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b" class="heading-mark"></a>2.1 hive数据类型</h3><ul>
<li>Hive的基本数据类型有：<code>TINYINT，SAMLLINT，INT，BIGINT，BOOLEAN，FLOAT，DOUBLE，STRING，TIMESTAMP(V0.8.0+)和BINARY(V0.8.0+)</code>。</li>
<li>Hive的集合类型有：<code>STRUCT，MAP和ARRAY</code>。</li>
<li>Hive表：内部表、外部表、分区表和桶表。</li>
<li>表的元数据保存传统的数据库的表中，<strong>当前hive只支持Derby和MySQL数据库</strong>。</li>
</ul>
<h3 id="hive内部表" class="heading-element">
  <a href="#hive%e5%86%85%e9%83%a8%e8%a1%a8" class="heading-mark"></a>2.2 Hive内部表</h3><p>Hive中的内部表和传统数据库中的表在概念上是类似的，Hive的每个表都有自己的存储目录，除了外部表外，所有的表数据都存放在配置在<code>hive-site.xml</code>文件的<code>${hive.metastore.warehouse.dir}/table_name</code>目录下。</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 创建内部表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">students</span><span class="p">(</span><span class="n">user_no</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">sex</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="n">grade</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="n">COMMOT</span><span class="w"> </span><span class="s1">&#39;班级&#39;</span><span class="err">）</span><span class="n">COMMONT</span><span class="w"> </span><span class="s1">&#39;学生表&#39;</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ROW</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">DELIMITED</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">FIELDS</span><span class="w"> </span><span class="n">TERMINATED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">STORE</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TEXTFILE</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hive外部表" class="heading-element">
  <a href="#hive%e5%a4%96%e9%83%a8%e8%a1%a8" class="heading-mark"></a>2.3 Hive外部表</h3><p>被external修饰的为外部表（external table），外部表指向已经存在在Hadoop HDFS上的数据，除了在删除外部表时只删除元数据而不会删除表数据外，其他和内部表很像</p>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 创建外部表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">EXTERNAL</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">students</span><span class="p">(</span><span class="n">user_no</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">sex</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="k">class</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="n">COMMOT</span><span class="w"> </span><span class="s1">&#39;班级&#39;</span><span class="err">）</span><span class="n">COMMONT</span><span class="w"> </span><span class="s1">&#39;学生表&#39;</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ROW</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">DELIMITED</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">FIELDS</span><span class="w"> </span><span class="n">TERMINATED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">STORE</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SEQUENCEFILE</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LOCATION</span><span class="w"> </span><span class="s1">&#39;/usr/test/data/students.txt&#39;</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hive分区表" class="heading-element">
  <a href="#hive%e5%88%86%e5%8c%ba%e8%a1%a8" class="heading-mark"></a>2.4 Hive分区表</h3><p>分区表的每一个分区都对应数据库中相应分区列的一个索引，分区表中的每一个分区对应一个目录文件，即同一个分区的数据存放一个目录下面，所以分区表如果很大，指定分区会速度快很多</p>
<p>比如说，分区表partitinTable有包含nation(国家)、ds(日期)和city(城市)3个分区，其中nation = china，ds = 20130506，city = Shanghai则对应HDFS上的目录为：
<code>/datawarehouse/partitinTable/nation=china/city=Shanghai/ds=20130506/</code>。</p>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 创建分区表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">students</span><span class="p">(</span><span class="n">user_no</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">sex</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="k">class</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="n">COMMOT</span><span class="w"> </span><span class="s1">&#39;班级&#39;</span><span class="err">）</span><span class="n">COMMONT</span><span class="w"> </span><span class="s1">&#39;学生表&#39;</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">PARTITIONED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">ds</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">country</span><span class="w"> </span><span class="n">STRING</span><span class="p">)</span><span class="w">  </span><span class="c1">-- 分区的列不属于建表的字段中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ROW</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">DELIMITED</span><span class="w">  </span><span class="c1">--分隔符
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">FIELDS</span><span class="w"> </span><span class="n">TERMINATED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="w">  </span><span class="c1">-- 结束换行符
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">STORE</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SEQUENCEFILE</span><span class="w"> </span><span class="c1">-- 数据存储格式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hive分桶表" class="heading-element">
  <a href="#hive%e5%88%86%e6%a1%b6%e8%a1%a8" class="heading-mark"></a>2.5 Hive分桶表</h3><p>对指定列进行HASH，根据hash值进行切分数据，不同hash结果的数据写到每个桶对应的文件目录中</p>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 创建分桶表
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">students</span><span class="p">(</span><span class="n">user_no</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="n">name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">sex</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="k">class</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="n">COMMOT</span><span class="w"> </span><span class="s1">&#39;班级&#39;</span><span class="p">,</span><span class="n">score</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="n">COMMOT</span><span class="w"> </span><span class="s1">&#39;总分&#39;</span><span class="err">）</span><span class="n">COMMONT</span><span class="w"> </span><span class="s1">&#39;学生表&#39;</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">PARTITIONED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">ds</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="n">country</span><span class="w"> </span><span class="n">STRING</span><span class="p">)</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">CLUSTERED</span><span class="w"> </span><span class="k">BY</span><span class="p">(</span><span class="n">user_no</span><span class="p">)</span><span class="w"> </span><span class="n">SORTED</span><span class="w"> </span><span class="k">BY</span><span class="p">(</span><span class="n">score</span><span class="p">)</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="n">BUCKETS</span><span class="w">  </span><span class="c1">-- 分桶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">ROW</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">DELIMITED</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">FIELDS</span><span class="w"> </span><span class="n">TERMINATED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;,&#39;</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">STORE</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SEQUENCEFILE</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hive视图" class="heading-element">
  <a href="#hive%e8%a7%86%e5%9b%be" class="heading-mark"></a>2.6 Hive视图</h3><p>逻辑数据结构，将查询结果作为视图，简化查询操作</p>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="n">employee_skills</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="k">AS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">skills_score</span><span class="p">[</span><span class="s1">&#39;DB&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DB</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">skills_score</span><span class="p">[</span><span class="s1">&#39;Perl&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Perl</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">skills_score</span><span class="p">[</span><span class="s1">&#39;Python&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Python</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">skills_score</span><span class="p">[</span><span class="s1">&#39;Sales&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Sales</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">skills_score</span><span class="p">[</span><span class="s1">&#39;HR&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">HR</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">employee</span><span class="p">;</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="总结" class="heading-element">
  <a href="#%e6%80%bb%e7%bb%93" class="heading-mark"></a>2.7 总结</h3><p>表的创建官方标准
<a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual&#43;DDL#LanguageManualDDL-CreateTable"target="_blank" rel="external nofollow noopener noreferrer">LanguageManual DDL -创建表的语法结构<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="p">[</span><span class="k">TEMPORARY</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="k">EXTERNAL</span><span class="p">]</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">db_name</span><span class="p">.]</span><span class="k">table_name</span><span class="w">    </span><span class="c1">-- (Note: TEMPORARY available in Hive 0.14.0 and later)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="p">[(</span><span class="n">col_name</span><span class="w"> </span><span class="n">data_type</span><span class="w"> </span><span class="p">[</span><span class="n">column_constraint_specification</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="n">col_comment</span><span class="p">],</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">[</span><span class="n">constraint_specification</span><span class="p">])]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="n">table_comment</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="n">PARTITIONED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">col_name</span><span class="w"> </span><span class="n">data_type</span><span class="w"> </span><span class="p">[</span><span class="k">COMMENT</span><span class="w"> </span><span class="n">col_comment</span><span class="p">],</span><span class="w"> </span><span class="p">...)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="n">CLUSTERED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">col_name</span><span class="p">,</span><span class="w"> </span><span class="n">col_name</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="p">[</span><span class="n">SORTED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">col_name</span><span class="w"> </span><span class="p">[</span><span class="k">ASC</span><span class="o">|</span><span class="k">DESC</span><span class="p">],</span><span class="w"> </span><span class="p">...)]</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">num_buckets</span><span class="w"> </span><span class="n">BUCKETS</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="n">SKEWED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">col_name</span><span class="p">,</span><span class="w"> </span><span class="n">col_name</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w">                  </span><span class="c1">-- (Note: Available in Hive 0.10.0 and later)]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">     </span><span class="k">ON</span><span class="w"> </span><span class="p">((</span><span class="n">col_value</span><span class="p">,</span><span class="w"> </span><span class="n">col_value</span><span class="p">,</span><span class="w"> </span><span class="p">...),</span><span class="w"> </span><span class="p">(</span><span class="n">col_value</span><span class="p">,</span><span class="w"> </span><span class="n">col_value</span><span class="p">,</span><span class="w"> </span><span class="p">...),</span><span class="w"> </span><span class="p">...)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="p">[</span><span class="n">STORED</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DIRECTORIES</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">[</span><span class="k">ROW</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">row_format</span><span class="p">]</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="p">[</span><span class="n">STORED</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">file_format</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="o">|</span><span class="w"> </span><span class="n">STORED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;storage.handler.class.name&#39;</span><span class="w"> </span><span class="p">[</span><span class="k">WITH</span><span class="w"> </span><span class="n">SERDEPROPERTIES</span><span class="w"> </span><span class="p">(...)]</span><span class="w">  </span><span class="c1">-- (Note: Available in Hive 0.6.0 and later)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="k">LOCATION</span><span class="w"> </span><span class="n">hdfs_path</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">[</span><span class="n">TBLPROPERTIES</span><span class="w"> </span><span class="p">(</span><span class="n">property_name</span><span class="o">=</span><span class="n">property_value</span><span class="p">,</span><span class="w"> </span><span class="p">...)]</span><span class="w">   </span><span class="c1">-- (Note: Available in Hive 0.6.0 and later)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">  </span><span class="p">[</span><span class="k">AS</span><span class="w"> </span><span class="n">select_statement</span><span class="p">];</span><span class="w">   </span><span class="c1">-- (Note: Available in Hive 0.5.0 and later; not supported for external tables)</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 用另外一个表的结构来创建
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="p">[</span><span class="k">TEMPORARY</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="k">EXTERNAL</span><span class="p">]</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">db_name</span><span class="p">.]</span><span class="k">table_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LIKE</span><span class="w"> </span><span class="n">existing_table_or_view_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="k">LOCATION</span><span class="w"> </span><span class="n">hdfs_path</span><span class="p">];</span></span></span></code></pre></td></tr></table>
</div>
</div><p>删除表</p>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">]</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="p">[</span><span class="n">PURGE</span><span class="p">];</span><span class="w">     </span><span class="c1">-- (Note: PURGE available in Hive 0.14.0 and later)</span></span></span></code></pre></td></tr></table>
</div>
</div><p>清空表</p>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">TRUNCATE</span><span class="w"> </span><span class="p">[</span><span class="k">TABLE</span><span class="p">]</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="p">[</span><span class="n">PARTITION</span><span class="w"> </span><span class="n">partition_spec</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">partition_spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">partition_column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partition_col_value</span><span class="p">,</span><span class="w"> </span><span class="n">partition_column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">partition_col_value</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>HDFS文件读写过程</title>
  <link>https://ipfred.github.io/bigdata/hadoop/a9bc224/</link>
  <pubDate>Wed, 24 Apr 2024 10:22:48 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/bigdata/hadoop/a9bc224/</guid>
  <description><![CDATA[<blockquote>
<p>HDFS</p>
</blockquote>
<h2 id="文件的写入过程" class="heading-element">
  <a href="#%e6%96%87%e4%bb%b6%e7%9a%84%e5%86%99%e5%85%a5%e8%bf%87%e7%a8%8b" class="heading-mark"></a>1 文件的写入过程</h2><p>HDFS把文件的数据划分成若干个块(Block)， 每个Block存放在一组 DataNode上，Namenode负责维护文件&ndash;&gt;Block(命令空间映射)和Block&ndash;&gt;Datanode(数据块映射)</p>
<p><a class="lightgallery" href="https://files.catbox.moe/8pqx8k.png?size=large" data-thumbnail="https://files.catbox.moe/8pqx8k.png?size=small" data-sub-html="<h2>8pqx8k.png</h2>"><img loading="lazy" src="https://files.catbox.moe/8pqx8k.png" alt="8pqx8k.png" srcset="https://files.catbox.moe/8pqx8k.png?size=small, https://files.catbox.moe/8pqx8k.png?size=medium 1.5x, https://files.catbox.moe/8pqx8k.png?size=large 2x" data-title="8pqx8k.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
<p>写入流程</p>
<ol>
<li>Client发起文件上传请求，通过RPC与NameNode建立通讯，NameNode检查目标文件是否已存在，父目录是否存在，返回是否可以上传</li>
<li>Client请求确定第一个block 应该传输到哪些Datanode服务器上</li>
<li>NameNode根据配置文件指定的备份数量以及机架感知原理进行文件分配，返回可用的 DataNode地址，如：A，B，C</li>
</ol>
<blockquote>
<p>备份数量：默认在HDFS上存放三份，本地一份、同机架内其他节点一份、不同机架节点一份</p>
</blockquote>
<ol start="4">
<li>
<p>Client 请求 3 台 DataNode 中的一台 A 上传数据（本质上是一个 RPC 调用，建立 pipeline ），A 收到请求会继续调用 B，然后 B 调用 C，将整个 pipeline 建立完成， 后逐级返回 client；</p>
</li>
<li>
<p><strong>Client 开始往 A 上传第一个 block（先从磁盘读取数据放到一个本地内存缓存），以 packet 为单位（默认64K），A 收到一个 packet 就会传给 B，B 传给 C</strong>。A 每传一个 packet 会放入一个应答队列等待应答；</p>
</li>
<li>
<p>数据被分割成一个个 packet 数据包在 pipeline 上依次传输，在 pipeline 反方向上， 逐个发送 ack（命令正确应答），最终由 pipeline 中第一个 DataNode 节点 A 将 pipelineack 发送给 Client；</p>
</li>
<li>
<p>当一个 block 传输完成之后，Client 再次请求 NameNode 上传第二个 block，重复步骤 2；</p>
</li>
</ol>
<h2 id="hdfs文件读取过程" class="heading-element">
  <a href="#hdfs%e6%96%87%e4%bb%b6%e8%af%bb%e5%8f%96%e8%bf%87%e7%a8%8b" class="heading-mark"></a>2 HDFS文件读取过程</h2><p><a class="lightgallery" href="https://files.catbox.moe/sfaz8j.png?size=large" data-thumbnail="https://files.catbox.moe/sfaz8j.png?size=small" data-sub-html="<h2>sfaz8j.png</h2>"><img loading="lazy" src="https://files.catbox.moe/sfaz8j.png" alt="sfaz8j.png" srcset="https://files.catbox.moe/sfaz8j.png?size=small, https://files.catbox.moe/sfaz8j.png?size=medium 1.5x, https://files.catbox.moe/sfaz8j.png?size=large 2x" data-title="sfaz8j.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
<ol>
<li>
<p>Client远程调用请求NameNode，获取文件块位置列表</p>
</li>
<li>
<p>NameNode会视情况返回文件的部分或者全部block列表；对于每个block，NameNode返回含副本的所有DataNode 地址；计算传输最快最优的DataNode</p>
</li>
</ol>
<blockquote>
<p>返回的DataNode地址，会按照集群拓扑结构计算客户端的距离，然后进行排序，排序两个规则：网络拓扑结构中距离 Client 近的排靠前；心跳机制中超时汇报的 DN 状态为 STALE，这样的排靠后；</p>
</blockquote>
<ol start="3">
<li>
<p>Client 选取排序靠前的 DataNode建立输入流，如果客户端本身就是DataNode，那么将从本地直接获取数据(短路读取特性)；</p>
</li>
<li>
<p>在选定的DataNode上读取该Block的数据</p>
</li>
<li>
<p>当读完列表的 block 后，若文件读取还没有结束，客户端会继续向NameNode 获取下一批的 block 列表；</p>
</li>
<li>
<p>读取完一个 block 都会进行 checksum 验证，如果读取 DataNode 时出现错误，客户端会通知 NameNode，然后再从下一个拥有该 block 副本的DataNode 继续读。</p>
</li>
<li>
<p><strong>read 方法是并行的读取 block 信息，不是一块一块的读取</strong>；NameNode 只是返回Client请求包含块的DataNode地址，并不是返回请求块的数据；</p>
</li>
<li>
<p>最终读取来所有的 block 会<strong>合并</strong>成一个完整的最终文件。</p>
</li>
</ol>
<blockquote>
<p>总结：串行写入，数据包先发给节点A，然后节点A发送给B，B在给C
并行读取，并行读取block所在的节点，最后合并</p>
</blockquote>]]></description>
</item>
<item>
  <title>hadoop命令行的使用</title>
  <link>https://ipfred.github.io/bigdata/hadoop/hadoop%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E4%BD%BF%E7%94%A8/</link>
  <pubDate>Tue, 23 Apr 2024 22:01:01 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/bigdata/hadoop/hadoop%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E4%BD%BF%E7%94%A8/</guid>
  <description><![CDATA[<h2 id="hdfs-的命令行使用" class="heading-element">
  <a href="#hdfs-%e7%9a%84%e5%91%bd%e4%bb%a4%e8%a1%8c%e4%bd%bf%e7%94%a8" class="heading-mark"></a>1 HDFS 的命令行使用</h2><p><a href="https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/FileSystemShell.html"target="_blank" rel="external nofollow noopener noreferrer">Hadoop 命令行官方doc<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a></p>
<p><code>hadoop fs</code>: 使用面最广，可以操作任务文件系统，包括本地文件系统、HDFS、FTP、S3等
<code>hdfs dfs</code>: 只能操作HDFS文件系统。</p>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># 下面两种效果是一样的</span>
</span></span><span class="line"><span class="cl">hdfs dfs -ls /user/hive
</span></span><span class="line"><span class="cl">hadoop fs -ls /user/hive/</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>如果操作HDFS文件系统，推荐使用 hdfs dfs,如果需要操作其他系统文件，使用hadoop fs命令</p>
</blockquote>
<ul>
<li>help</li>
</ul>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:  hdfs dfs -help 操作命令
</span></span><span class="line"><span class="cl">作用: 查看某一个操作命令的参数信息</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ls</li>
</ul>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式：hdfs dfs -ls  URI
</span></span><span class="line"><span class="cl">作用：类似于Linux的ls命令，显示文件列表</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>lsr</li>
</ul>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式  :   hdfs  dfs -lsr URI
</span></span><span class="line"><span class="cl">作用  : 在整个目录下递归执行ls, 与UNIX中的ls-R类似</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>mkdir</li>
</ul>
<div class="highlight" id="id-5"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式 ： hdfs  dfs  -mkdir <span class="o">[</span>-p<span class="o">]</span> &lt;paths&gt;
</span></span><span class="line"><span class="cl">作用 :   以&lt;paths&gt;中的URI作为参数，创建目录。使用-p参数可以递归创建目录</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>put</li>
</ul>
<div class="highlight" id="id-6"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式   ： hdfs dfs -put &lt;localsrc &gt;  ... &lt;dst&gt;
</span></span><span class="line"><span class="cl">作用 ：  将单个的源文件src或者多个源文件srcs从本地文件系统拷贝到目标文件系统中（&lt;dst&gt;对应的路径）。也可以从标准输入中读取输入，写入目标文件系统中
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hdfs dfs -put  /rooot/bigdata.txt  /dir1</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>moveFromLocal</li>
</ul>
<div class="highlight" id="id-7"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式： hdfs  dfs -moveFromLocal  &lt;localsrc&gt;   &lt;dst&gt;
</span></span><span class="line"><span class="cl">作用:  和put命令类似，但是源文件localsrc拷贝之后自身被删除
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hdfs  dfs -moveFromLocal  /root/bigdata.txt  /</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>copyFromLocal</li>
</ul>
<div class="highlight" id="id-8"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:  hdfs dfs -copyFromLocal &lt;localsrc&gt; ... &lt;dst&gt;
</span></span><span class="line"><span class="cl">作用: 从本地文件系统中拷贝文件到hdfs路径去</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>appendToFile</li>
</ul>
<div class="highlight" id="id-9"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs dfs -appendToFile &lt;localsrc&gt; ... &lt;dst&gt;
</span></span><span class="line"><span class="cl">作用: 追加一个或者多个文件到hdfs指定文件中.也可以从命令行读取输入.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> hdfs dfs -appendToFile  a.xml b.xml  /big.xml</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>moveToLocal</li>
</ul>
<div class="highlight" id="id-10"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">在 hadoop 2.6.4 版本测试还未未实现此方法
</span></span><span class="line"><span class="cl">格式：hadoop  dfs  -moveToLocal <span class="o">[</span>-crc<span class="o">]</span> &lt;src&gt; &lt;dst&gt;
</span></span><span class="line"><span class="cl">作用：将本地文件剪切到 HDFS</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>get</li>
</ul>
<div class="highlight" id="id-11"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式   hdfs dfs  -get <span class="o">[</span>-ignorecrc <span class="o">]</span>  <span class="o">[</span>-crc<span class="o">]</span>  &lt;src&gt; &lt;localdst&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">作用：将文件拷贝到本地文件系统。 CRC 校验失败的文件通过-ignorecrc选项拷贝。 文件和CRC校验可以通过-CRC选项拷贝
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hdfs dfs  -get   /bigdata.txt  /export/servers</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>getmerge</li>
</ul>
<div class="highlight" id="id-12"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs dfs -getmerge &lt;src&gt; &lt;localdst&gt;
</span></span><span class="line"><span class="cl">作用: 合并下载多个文件，比如hdfs的目录 /aaa/下有多个文件:log.1, log.2,log.3,...</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>copyToLocal</li>
</ul>
<div class="highlight" id="id-13"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:  hdfs dfs -copyToLocal &lt;src&gt; ... &lt;localdst&gt;
</span></span><span class="line"><span class="cl">作用:  从hdfs拷贝到本地</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>mv</li>
</ul>
<div class="highlight" id="id-14"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式  ： hdfs  dfs -mv URI   &lt;dest&gt;
</span></span><span class="line"><span class="cl">作用： 将hdfs上的文件从原路径移动到目标路径（移动之后文件删除），该命令不能跨文件系统
</span></span><span class="line"><span class="cl">hdfs  dfs  -mv  /dir1/bigdata.txt   /dir2</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>rm</li>
</ul>
<div class="highlight" id="id-15"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式： hdfs dfs -rm <span class="o">[</span>-r<span class="o">]</span> 【-skipTrash】 URI 【URI 。。。】
</span></span><span class="line"><span class="cl">作用： 删除参数指定的文件，参数可以有多个。  此命令只删除文件和非空目录。
</span></span><span class="line"><span class="cl">如果指定-skipTrash选项，那么在回收站可用的情况下，该选项将跳过回收站而直接删除文件；
</span></span><span class="line"><span class="cl">否则，在回收站可用时，在HDFS Shell 中执行此命令，会将文件暂时放到回收站中。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hdfs  dfs  -rm  -r  /dir1</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>cp</li>
</ul>
<div class="highlight" id="id-16"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs  dfs  -cp URI <span class="o">[</span>URI ...<span class="o">]</span> &lt;dest&gt;
</span></span><span class="line"><span class="cl">作用： 将文件拷贝到目标路径中。如果&lt;dest&gt;  为目录的话，可以将多个文件拷贝到该目录下。
</span></span><span class="line"><span class="cl">-f
</span></span><span class="line"><span class="cl">选项将覆盖目标，如果它已经存在。
</span></span><span class="line"><span class="cl">-p
</span></span><span class="line"><span class="cl">选项将保留文件属性（时间戳、所有权、许可、ACL、XAttr）。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hdfs dfs -cp /dir1/a.txt  /dir2/bigdata.txt</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>cat</li>
</ul>
<div class="highlight" id="id-17"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hdfs dfs  -cat  URI <span class="o">[</span>uri  ...<span class="o">]</span>
</span></span><span class="line"><span class="cl">作用：将参数所指示的文件内容输出到stdout
</span></span><span class="line"><span class="cl">hdfs dfs  -cat /bigdata.txt</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>tail</li>
</ul>
<div class="highlight" id="id-18"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs dfs -tail path
</span></span><span class="line"><span class="cl">作用: 显示一个文件的末尾</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>text</li>
</ul>
<div class="highlight" id="id-19"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:hdfs dfs -text path
</span></span><span class="line"><span class="cl">作用: 以字符形式打印一个文件的内容</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>chmod</li>
</ul>
<div class="highlight" id="id-20"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:hdfs  dfs  -chmod  <span class="o">[</span>-R<span class="o">]</span>  URI<span class="o">[</span>URI  ...<span class="o">]</span>
</span></span><span class="line"><span class="cl">作用：改变文件权限。如果使用  -R 选项，则对整个目录有效递归执行。使用这一命令的用户必须是文件的所属用户，或者超级用户。
</span></span><span class="line"><span class="cl">hdfs dfs -chmod -R <span class="m">777</span> /bigdata.txt</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>chown</li>
</ul>
<div class="highlight" id="id-21"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:  hdfs  dfs  -chmod  <span class="o">[</span>-R<span class="o">]</span>  URI<span class="o">[</span>URI ...<span class="o">]</span>
</span></span><span class="line"><span class="cl">作用：  改变文件的所属用户和用户组。如果使用  -R 选项，则对整个目录有效递归执行。使用这一命令的用户必须是文件的所属用户，或者超级用户。
</span></span><span class="line"><span class="cl">hdfs  dfs  -chown  -R hadoop:hadoop  /bigdata.txt</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>df</li>
</ul>
<div class="highlight" id="id-22"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs dfs  -df  -h  path
</span></span><span class="line"><span class="cl">作用: 统计文件系统的可用空间信息</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>du</li>
</ul>
<div class="highlight" id="id-23"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs dfs -du -s -h path
</span></span><span class="line"><span class="cl">作用: 统计文件夹的大小信息</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>count</li>
</ul>
<div class="highlight" id="id-24"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式: hdfs dfs -count path
</span></span><span class="line"><span class="cl">作用: 统计一个指定目录下的文件节点数量</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>setrep</li>
<li>expunge (慎用)</li>
</ul>
<div class="highlight" id="id-25"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">格式:  hdfs dfs -setrep num filePath
</span></span><span class="line"><span class="cl">作用: 设置hdfs中文件的副本数量
</span></span><span class="line"><span class="cl">注意: 即使设置的超过了datanode的数量,副本的数量也最多只能和datanode的数量是一致的</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="hdfs的高级使用命令" class="heading-element">
  <a href="#hdfs%e7%9a%84%e9%ab%98%e7%ba%a7%e4%bd%bf%e7%94%a8%e5%91%bd%e4%bb%a4" class="heading-mark"></a>2 hdfs的高级使用命令</h2><h3 id="hdfs文件限额配置" class="heading-element">
  <a href="#hdfs%e6%96%87%e4%bb%b6%e9%99%90%e9%a2%9d%e9%85%8d%e7%bd%ae" class="heading-mark"></a>2.1 HDFS文件限额配置</h3><p>在多人共用HDFS的环境下，配置设置非常重要。特别是在 Hadoop 处理大量资料的环境，如果没有配额管理，很容易把所有的空间用完造成别人无法存取。HDFS 的配额设定是针对目录而不是针对账号，可以让每个账号仅操作某一个目录，然后对目录设置配置。</p>
<p>HDFS 文件的限额配置允许我们以文件个数，或者文件大小来限制我们在某个目录下上传的文件数量或者文件内容总量，以便达到我们类似百度网盘网盘等限制每个用户允许上传的最大的文件的量。</p>
<div class="highlight" id="id-26"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"> hdfs dfs -count -q -h /user/root/dir1  <span class="c1">#查看配额信息</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="数量限额" class="heading-element">
  <a href="#%e6%95%b0%e9%87%8f%e9%99%90%e9%a2%9d" class="heading-mark"></a>2.1.1 数量限额</h4><div class="highlight" id="id-27"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hdfs dfs  -mkdir -p /user/root/dir    <span class="c1">#创建hdfs文件夹</span>
</span></span><span class="line"><span class="cl">hdfs dfsadmin -setQuota <span class="m">2</span>  dir      <span class="c1"># 给该文件夹下面设置最多上传两个文件，发现只能上传一个文件</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hdfs dfsadmin -clrQuota /user/root/dir  <span class="c1"># 清除文件数量限制</span>
</span></span><span class="line"><span class="cl">  </span></span></code></pre></td></tr></table>
</div>
</div><h4 id="空间大小限额" class="heading-element">
  <a href="#%e7%a9%ba%e9%97%b4%e5%a4%a7%e5%b0%8f%e9%99%90%e9%a2%9d" class="heading-mark"></a>2.1.2 空间大小限额</h4><p>在设置空间配额时，设置的空间至少是 block_size * 3 大小</p>
<div class="highlight" id="id-28"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hdfs dfsadmin -setSpaceQuota 4k /user/root/dir   <span class="c1"># 限制空间大小4KB</span>
</span></span><span class="line"><span class="cl">hdfs dfs -put  /root/a.txt  /user/root/dir
</span></span><span class="line"><span class="cl"><span class="c1"># 生成任意大小的文件</span>
</span></span><span class="line"><span class="cl">dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>1.txt  <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">count</span><span class="o">=</span><span class="m">2</span>     <span class="c1">#生成2M的文件</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 清除空间配额限制</span>
</span></span><span class="line"><span class="cl">hdfs dfsadmin -clrSpaceQuota /user/root/dir</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="hdfs-的安全模式" class="heading-element">
  <a href="#hdfs-%e7%9a%84%e5%ae%89%e5%85%a8%e6%a8%a1%e5%bc%8f" class="heading-mark"></a>2.2 HDFS 的安全模式</h3><p>安全模式是hadoop的一种保护机制，用于保证集群中的数据块的安全性。当集群启动的时候，会首先进入安全模式。当系统处于安全模式时会检查数据块的完整性。</p>
<p>假设我们设置的副本数（即参数dfs.replication）是3，那么在datanode上就应该有3个副本存在，假设只存在2个副本，那么比例就是2/3=0.666。hdfs默认的副本率0.999。我们的副本率0.666明显小于0.999，因此系统会自动的复制副本到其他dataNode，使得副本率不小于0.999。如果系统中有5个副本，超过我们设定的3个副本，那么系统也会删除多于的2个副本。</p>
<p>在安全模式状态下，文件系统只接受读数据请求，而不接受删除、修改等变更请求。在，当整个系统达到安全标准时，HDFS自动离开安全模式。30s</p>
<p>安全模式操作命令</p>
<div class="highlight" id="id-29"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">hdfs  dfsadmin  -safemode  get <span class="c1">#查看安全模式状态</span>
</span></span><span class="line"><span class="cl">hdfs  dfsadmin  -safemode  enter <span class="c1">#进入安全模式</span>
</span></span><span class="line"><span class="cl">hdfs  dfsadmin  -safemode  leave <span class="c1">#离开安全模式</span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>Hadoop概览</title>
  <link>https://ipfred.github.io/bigdata/hadoop/hadoop%E6%A6%82%E8%A7%88/</link>
  <pubDate>Tue, 23 Apr 2024 20:01:01 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/bigdata/hadoop/hadoop%E6%A6%82%E8%A7%88/</guid>
  <description><![CDATA[<h1 id="hdfs" class="heading-element">
  <a href="#hdfs" class="heading-mark"></a>HDFS</h1><ol>
<li>HDFS概述</li>
</ol>
<p>Hadoop 分布式系统框架中，首要的基础功能就是文件系统，在 Hadoop 中使用 FileSystem 这个抽象类来表示我们的文件系统，这个抽象类下面有很多子实现类，究竟使用哪一种，需要看我们具体的实现类，在我们实际工作中，用到的最多的就是HDFS(分布式文件系统)以及LocalFileSystem(本地文件系统)了。</p>
<p>在现代的企业环境中，单机容量往往无法存储大量数据，需要跨机器存储。统一管理分布在集群上的文件系统称为分布式文件系统。</p>
<p>HDFS（Hadoop  Distributed  File  System）是 Hadoop 项目的一个子项目。是 Hadoop 的核心组件之一，  Hadoop 非常适于存储大型数据 (比如 TB 和 PB)，其就是使用 HDFS 作为存储系统. HDFS 使用多台计算机存储文件，并且提供统一的访问接口，像是访问一个普通文件系统一样使用分布式文件系统。</p>
<p><a class="lightgallery" href="https://files.catbox.moe/6l0xa2.png?size=large" data-thumbnail="https://files.catbox.moe/6l0xa2.png?size=small" data-sub-html="<h2>6l0xa2.png</h2>"><img loading="lazy" src="https://files.catbox.moe/6l0xa2.png" alt="6l0xa2.png" srcset="https://files.catbox.moe/6l0xa2.png?size=small, https://files.catbox.moe/6l0xa2.png?size=medium 1.5x, https://files.catbox.moe/6l0xa2.png?size=large 2x" data-title="6l0xa2.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
<ol start="2">
<li>HDFS架构</li>
</ol>
<p><a class="lightgallery" href="https://files.catbox.moe/7srz72.png?size=large" data-thumbnail="https://files.catbox.moe/7srz72.png?size=small" data-sub-html="<h2>7srz72.png</h2>"><img loading="lazy" src="https://files.catbox.moe/7srz72.png" alt="7srz72.png" srcset="https://files.catbox.moe/7srz72.png?size=small, https://files.catbox.moe/7srz72.png?size=medium 1.5x, https://files.catbox.moe/7srz72.png?size=large 2x" data-title="7srz72.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
<p>HDFS是一个主/从（Mater/Slave）体系结构，由三部分组成： NameNode 和 DataNode 以及 SecondaryNamenode：</p>
<p>● NameNode 负责管理整个文件系统的元数据，以及每一个路径（文件）所对应的数据块信息。<br>
● DataNode 负责管理用户的文件数据块，每一个数据块都可以在多个 DataNode 上存储多个副本，默认为3个。<br>
● Secondary NameNode 用来监控 HDFS 状态的辅助后台程序，每隔一段时间获取 HDFS 元数据的快照。最主要作用是辅助 NameNode 管理元数据信息。</p>
<p><a class="lightgallery" href="https://files.catbox.moe/76lm4z.png?size=large" data-thumbnail="https://files.catbox.moe/76lm4z.png?size=small" data-sub-html="<h2>76lm4z.png</h2>"><img loading="lazy" src="https://files.catbox.moe/76lm4z.png" alt="76lm4z.png" srcset="https://files.catbox.moe/76lm4z.png?size=small, https://files.catbox.moe/76lm4z.png?size=medium 1.5x, https://files.catbox.moe/76lm4z.png?size=large 2x" data-title="76lm4z.png" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/></a></p>
<ol start="3">
<li>HDFS的特性</li>
</ol>
<p>首先，它是一个文件系统，用于存储文件，通过统一的命名空间目录树来定位文件；</p>
<p>其次，它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色。</p>
<ol>
<li>master/slave 架构（主从架构）</li>
</ol>
<p>HDFS 采用 master/slave 架构。一般一个 HDFS 集群是有一个 Namenode 和一定数目的 Datanode 组成。Namenode 是 HDFS 集群主节点，Datanode 是 HDFS 集群从节点，两种角色各司其职，共同协调完成分布式的文件存储服务。</p>
<ol start="2">
<li>分块存储(Block)</li>
</ol>
<p>HDFS 中的文件在物理上是分块存储（block）的，块的大小可以通过配置参数来规定，默认大小在 hadoop2.x 版本中是 128M。</p>
<ol start="3">
<li>名字空间（NameSpace）</li>
</ol>
<p>HDFS 支持传统的层次型文件组织结构。用户或者应用程序可以创建目录，然后将文件保存在这些目录里。文件系统名字空间的层次结构和大多数现有的文件系统类似：用户可以创建、删除、移动或重命名文件。 Namenode 负责维护文件系统的名字空间，任何对文件系统名字空间或属性的修改都将被 Namenode 记录下来。 HDFS 会给客户端提供一个统一的抽象目录树，客户端通过路径来访问文件，形如：hdfs://namenode:port/dir-a/dir-b/dir-c/file.data。</p>
<ol start="4">
<li>NameNode 元数据管理</li>
</ol>
<p>我们把目录结构及文件分块位置信息叫做元数据。NameNode 负责维护整个 HDFS 文件系统的目录树结构，以及每一个文件所对应的 block 块信息（block 的 id，及所在的 DataNode 服务器）。</p>
<ol start="5">
<li>DataNode 数据存储</li>
</ol>
<p>文件的各个 block 的具体存储管理由 DataNode 节点承担。每一个 block 都可以在多个 DataNode 上。DataNode 需要定时向 NameNode 汇报自己持有的 block 信息。 存储多个副本（副本数量也可以通过参数设置 dfs.replication，默认是 3）</p>
<ol start="6">
<li>副本机制</li>
</ol>
<p>为了容错，文件的所有 block 都会有副本。每个文件的 block 大小和副本系数都是可配置的。应用程序可以指定某个文件的副本数目。副本系数可以在文件创建的时候指定，也可以在之后改变。</p>
<ol start="7">
<li>一次写入，多次读出</li>
</ol>
<p>HDFS 是设计成适应一次写入，多次读出的场景，且不支持文件的修改。 正因为如此，HDFS 适合用来做大数据分析的底层存储服务，并不适合用来做网盘等应用，因为修改不方便，延迟大，网络开销大，成本太高。</p>
]]></description>
</item>
<item>
  <title>My First Post</title>
  <link>https://ipfred.github.io/posts/my-first-post/</link>
  <pubDate>Sat, 20 Apr 2024 16:51:10 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/posts/my-first-post/</guid>
  <description><![CDATA[<h2 id="introduction" class="heading-element">
  <a href="#introduction" class="heading-mark"></a>1 Introduction</h2><p>This is <strong>bold</strong> text, and this is <em>emphasized</em> text.</p>
<p>Visit the <a href="https://gohugo.io"target="_blank" rel="external nofollow noopener noreferrer">Hugo<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden="true"></i></a> website!</p>
]]></description>
</item>
<item>
  <title>我的第二篇文章</title>
  <link>https://ipfred.github.io/posts/second_post/</link>
  <pubDate>Tue, 20 Feb 2024 20:14:22 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/posts/second_post/</guid>
  <description><![CDATA[<h2 id="常用数据库的读写方式" class="heading-element">
  <a href="#%e5%b8%b8%e7%94%a8%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e8%af%bb%e5%86%99%e6%96%b9%e5%bc%8f" class="heading-mark"></a>1 常用数据库的读写方式</h2><p>A blog (a truncation of &ldquo;weblog&rdquo;) is an informational website published on the World Wide Web consisting of discrete, often informal diary-style text entries (posts). Posts are typically displayed in reverse chronological order so that the most recent post appears first, at the top of the web page. Until 2009, blogs were usually the work of a single individual,[citation needed] occasionally of a small group, and often covered a single subject or topic. In the 2010s, &ldquo;multi-author blogs&rdquo; (MABs) emerged, featuring the writing of multiple authors and sometimes professionally edited. MABs from newspapers, other media outlets, universities, think tanks, advocacy groups, and similar institutions account for an increasing quantity of blog traffic. The rise of Twitter and other &ldquo;microblogging&rdquo; systems helps integrate MABs and single-author blogs into the news media. Blog can also be used as a verb, meaning to maintain or add content to a blog.</p>
<h2 id="标题二" class="heading-element">
  <a href="#%e6%a0%87%e9%a2%98%e4%ba%8c" class="heading-mark"></a>2 标题二</h2><h2 id="标题三" class="heading-element">
  <a href="#%e6%a0%87%e9%a2%98%e4%b8%89" class="heading-mark"></a>3 标题三</h2>]]></description>
</item>
<item>
  <title>我的第一篇文章</title>
  <link>https://ipfred.github.io/posts/first_post/</link>
  <pubDate>Mon, 20 Feb 2023 20:14:22 &#43;0800</pubDate>
  <author>Fred</author>
  <guid>https://ipfred.github.io/posts/first_post/</guid>
  <description><![CDATA[<h2 id="常用数据库的读写方式" class="heading-element">
  <a href="#%e5%b8%b8%e7%94%a8%e6%95%b0%e6%8d%ae%e5%ba%93%e7%9a%84%e8%af%bb%e5%86%99%e6%96%b9%e5%bc%8f" class="heading-mark"></a>1 常用数据库的读写方式</h2><p>A blog (a truncation of &ldquo;weblog&rdquo;) is an informational website published on the World Wide Web consisting of discrete, often informal diary-style text entries (posts). Posts are typically displayed in reverse chronological order so that the most recent post appears first, at the top of the web page. Until 2009, blogs were usually the work of a single individual,[citation needed] occasionally of a small group, and often covered a single subject or topic. In the 2010s, &ldquo;multi-author blogs&rdquo; (MABs) emerged, featuring the writing of multiple authors and sometimes professionally edited. MABs from newspapers, other media outlets, universities, think tanks, advocacy groups, and similar institutions account for an increasing quantity of blog traffic. The rise of Twitter and other &ldquo;microblogging&rdquo; systems helps integrate MABs and single-author blogs into the news media. Blog can also be used as a verb, meaning to maintain or add content to a blog.</p>
<h2 id="标题二" class="heading-element">
  <a href="#%e6%a0%87%e9%a2%98%e4%ba%8c" class="heading-mark"></a>2 标题二</h2><h2 id="标题三" class="heading-element">
  <a href="#%e6%a0%87%e9%a2%98%e4%b8%89" class="heading-mark"></a>3 标题三</h2>]]></description>
</item>
</channel>
</rss>
